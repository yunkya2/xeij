<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Functions and features</title><link rel="icon" type="image/vnd.microsoft.icon" href="XEiJ.ico"><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="XEiJ.ico"><link rel="stylesheet" type="text/css" href="https://stdkmd.net/stdkmd.css"><script charset="UTF-8" src="https://stdkmd.net/stdkmd.js"></script></head><body><div id="head"><span id="title"><span class="en">Functions and features</span><span class="ja">機能と特徴</span></span><span id="back">- <a href="https://stdkmd.net/xeij/">XEiJ</a> - <a href="https://stdkmd.net/">STUDIO KAMADA</a></span><span id="langbox"></span></div><div id="body"><h3 id="toc"><span class="en">Table of contents</span><span class="ja">目次</span></h3><ol class="wide"><li><a href="#_4096patterns"><span class="en">4096 patterns</span><span class="ja">4096個のパターン</span></a></li><li><a href="#adjustvsync"><span class="en">Adjust to host refresh rate</span><span class="ja">ホストのリフレッシュレートに合わせる</span></a></li><li><a href="#atcmonitor"><span class="en">Address translation caches monitor</span><span class="ja">アドレス変換キャッシュモニタ</span></a></li><li><a href="#branchlog"><span class="en">Branch log</span><span class="ja">分岐ログ</span></a></li><li><a href="#buttonfunctionassignments"><span class="en">
F11/F12 and button function assignments window
</span><span class="ja">
F11/F12およびボタン機能割り当てウインドウ
</span></a></li><li><a href="#cdrom">CD-ROM</a></li><li><a href="#corecontrolbuttons"><span class="en">
Core control buttons
</span><span class="ja">
コア制御ボタン
</span></a><ol><li><a href="#oriillegalcheckbox"><span class="en">
Checkbox to consider ORI.B #$00,D0 as an illegal instruction
</span><span class="ja">
ORI.B #$00,D0を不当命令とみなすチェックボックス
</span></a></li><li><a href="#stoponerrorcheckbox"><span class="en">
Checkbox to stop on error
</span><span class="ja">
エラーで停止させるチェックボックス
</span></a></li><li><a href="#stopatstartcheckbox"><span class="en">
Checkbox to stop at execution start position
</span><span class="ja">
実行開始位置で停止させるチェックボックス
</span></a></li><li><a href="#breakbutton"><span class="en">
Break button
</span><span class="ja">
停止ボタン
</span></a></li><li><a href="#tracebutton"><span class="en">
Trace button
</span><span class="ja">
トレースボタン
</span></a></li><li><a href="#trace10timesbutton"><span class="en">
Trace 10 times button
</span><span class="ja">
トレース10回ボタン
</span></a></li><li><a href="#trace100timesbutton"><span class="en">
Trace 100 times button
</span><span class="ja">
トレース100回ボタン
</span></a></li><li><a href="#stepbutton"><span class="en">
Step button
</span><span class="ja">
ステップボタン
</span></a></li><li><a href="#step10timesbutton"><span class="en">
Step 10 times button
</span><span class="ja">
ステップ10回ボタン
</span></a></li><li><a href="#step100timesbutton"><span class="en">
Step 100 times button
</span><span class="ja">
ステップ100回ボタン
</span></a></li><li><a href="#stepuntilreturnbutton"><span class="en">
Step until return button
</span><span class="ja">
ステップアンティルリターンボタン
</span></a></li><li><a href="#runbutton"><span class="en">
Run button
</span><span class="ja">
実行ボタン
</span></a></li></ol></li><li><a href="#databreakpoint"><span class="en">Data break point</span><span class="ja">データブレークポイント</span></a><ol><li><a href="#databreakpoint_mechanism"><span class="en">Mechanism of the data break point</span><span class="ja">データブレークポイントの仕組み</span></a></li></ol></li><li><a href="#debugconsole"><span class="en">Debug console</span><span class="ja">デバッグコンソール</span></a></li><li><a href="#disassemblelist"><span class="en">Disassemble list</span><span class="ja">逆アセンブルリスト</span></a></li><li><a href="#edgeacceleration"><span class="en">Edge acceleration</span><span class="ja">縁部加速</span></a></li><li><a href="#exclusivemouse"><span class="en">Exclusive mouse mode</span><span class="ja">エクスクルーシブマウスモード</span></a></li><li><a href="#extendedgraphic"><span class="en">
Extended graphic screen
</span><span class="ja">
拡張グラフィック画面
</span></a></li><li><a href="#fc2pin"><span class="en">FC2 pin</span><span class="ja">FC2 ピン</span></a></li><li><a href="#fefunction"><span class="en">FE function instructions</span><span class="ja">FE ファンクション命令</span></a><ol><li><a href="#fefunction_sample"><span class="en">Example: Integrate atan(x) from 0 to 1 by rectangle method in X-BASIC</span><span class="ja">例: X-BASIC で atan(x) を 0 から 1 まで長方形近似で数値積分する</span></a></li></ol></li><li><a href="#fixedfrequencymode"><span class="en">Fixed frequency mode</span><span class="ja">周波数固定モード</span></a></li><li><a href="#fixedloadfactormode"><span class="en">Fixed load factor mode</span><span class="ja">負荷率固定モード</span></a></li><li><a href="#controlpipe"><span class="en">Control pipe</span><span class="ja">制御パイプ</span></a></li><li><a href="#coproboard"><span class="en">Floating point coprocessor board</span><span class="ja">浮動小数点プロセッサボード</span></a></li><li><a href="#floatnxrejection"><span class="en">FLOATn.X rejection</span><span class="ja">FLOATn.X の抑制</span></a></li><li><a href="#fullspecfpu"><span class="en">Full specification FPU</span><span class="ja">フルスペック FPU</span></a></li><li><a href="#gifanimationrecording"><span class="en">
GIF animation recording
</span><span class="ja">
GIFアニメーション録画
</span></a></li><li><a href="#localmemory"><span class="en">
High memory on 060turbo
</span><span class="ja">
060turboのハイメモリ
</span></a></li><li><a href="#highmemory"><span class="en">
High memory on X68030/Xellent30
</span><span class="ja">
X68030/Xellent30のハイメモリ
</span></a></li><li><a href="#hostfilesystem"><span class="en">Host file system</span><span class="ja">ホストファイルシステム</span></a></li><li><a href="#iplrom16">IPLROM 1.6</a></li><li><a href="#javalanguage"><span class="en">
Java language
</span><span class="ja">
Java言語
</span></a></li><li><a href="#keyassignments"><span class="en">
Key assignments window
</span><span class="ja">
キー割り当てウインドウ
</span></a><ol><li><a href="#keyassignments_inputarea"><span class="en">
Input area
</span><span class="ja">
入力エリア
</span></a></li><li><a href="#keyassignments_blank"><span class="en">
Blank button
</span><span class="ja">
白紙ボタン
</span></a></li><li><a href="#keyassignments_uslayout"><span class="en">
US layout checkbox
</span><span class="ja">
英語配列チェックボックス
</span></a></li><li><a href="#keyassignments_default"><span class="en">
Default button
</span><span class="ja">
初期値ボタン
</span></a></li><li><a href="#keyassignments_save"><span class="en">
Save button
</span><span class="ja">
保存ボタン
</span></a></li><li><a href="#keyassignments_restore"><span class="en">
Restore button
</span><span class="ja">
復元ボタン
</span></a></li><li><a href="#keyassignments_undo"><span class="en">
Undo button
</span><span class="ja">
取り消しボタン
</span></a></li><li><a href="#keyassignments_redo"><span class="en">
Redo Button
</span><span class="ja">
やり直しボタン
</span></a></li><li><a href="#keyassignments_f11f12"><span class="en">
F11 and F12 keys
</span><span class="ja">
F11キーとF12キー
</span></a></li></ol></li><li><a href="#logicalspacemonitor"><span class="en">Logical space monitor</span><span class="ja">論理空間モニタ</span></a></li><li><a href="#megadrive3buttonpad"><span class="en">MEGA DRIVE 3 button pad</span><span class="ja">メガドラ 3 ボタンパッド</span></a></li><li><a href="#megadrive6buttonpad"><span class="en">MEGA DRIVE 6 button pad</span><span class="ja">メガドラ 6 ボタンパッド</span></a></li><li><a href="#memorydumplist"><span class="en">Memory dump list</span><span class="ja">メモリダンプリスト</span></a></li><li><a href="#model"><span class="en">
Model
</span><span class="ja">
機種
</span></a><ol><li><a href="#model_expert">
X68000 / X68000 ACE / X68000 EXPERT
</a></li><li><a href="#model_pro">
X68000 PRO
</a></li><li><a href="#model_super">
X68000 SUPER
</a></li><li><a href="#model_xvi">
X68000 XVI
</a></li><li><a href="#model_xellent30">
Xellent30
</a></li><li><a href="#model_compact">
X68000 Compact
</a></li><li><a href="#model_hybrid">
X68000 Hybrid
</a></li><li><a href="#model_x68030">
X68030 / 030Compact
</a></li><li><a href="#model_060turbo">
060turbo
</a></li><li><a href="#model_060turbopro">
060turboPRO
</a></li></ol></li><li><a href="#motherboardcoprocessor"><span class="en">Mother board coprocessor</span><span class="ja">マザーボードコプロセッサ</span></a></li><li><a href="#normal2buttonpad"><span class="en">Normal 2 button pad</span><span class="ja">ノーマル 2 ボタンパッド</span></a></li><li><a href="#numberofsprites"><span class="en">Number of sprites</span><span class="ja">スプライトの枚数</span></a></li><li><a href="#opmlog"><span class="en">OPM log</span><span class="ja">OPMログ</span></a></li><li><a href="#paste"><span class="en">Paste</span><span class="ja">貼り付け</span></a></li><li><a href="#pastepipe"><span class="en">Paste pipe</span><span class="ja">貼り付けパイプ</span></a></li><li><a href="#pcminterpolation"><span class="en">PCM interpolation algorithm</span><span class="ja">PCM 補間アルゴリズム</span></a></li><li><a href="#physicalspacemonitor"><span class="en">Physical space monitor</span><span class="ja">物理空間モニタ</span></a></li><li><a href="#printer"><span class="en">Printer</span><span class="ja">プリンタ</span></a></li><li><a href="#flowvisualizer"><span class="en">Program flow visualizer</span><span class="ja">プログラムフロービジュアライザ</span></a></li><li><a href="#rasterbreakpoint"><span class="en">Raster break point</span><span class="ja">ラスタブレークポイント</span></a></li><li><a href="#registerlist"><span class="en">
Register list
</span><span class="ja">
レジスタリスト
</span></a></li><li><a href="#rootpointerlist"><span class="en">Root pointer list</span><span class="ja">ルートポインタリスト</span></a></li><li><a href="#rs232candterminal"><span class="en">
RS-232C and terminal
</span><span class="ja">
RS-232Cとターミナル
</span></a><ol><li><a href="#rs232candterminal_terminal_rs232c"><span class="en">
Connect terminal and RS-232C
</span><span class="ja">
ターミナルとRS-232Cを接続する
</span></a></li><li><a href="#rs232candterminal_serialport_rs232c"><span class="en">
Connect serial port and RS-232C
</span><span class="ja">
シリアルポートとRS-232Cを接続する
</span></a></li><li><a href="#rs232candterminal_serialport_terminal"><span class="en">
Connect serial port and terminal
</span><span class="ja">
シリアルポートとターミナルを接続する
</span></a></li><li><a href="#rs232candterminal_modification"><span class="en">
Modification
</span><span class="ja">
改造
</span></a></li><li><a href="#rs232candterminal_sendctrlc"><span class="en">
Send ^C
</span><span class="ja">
^C送信
</span></a></li></ol></li><li><a href="#scanlineeffect"><span class="en">
Scanline effect
</span><span class="ja">
走査線エフェクト
</span></a></li><li><a href="#screenmodetest"><span class="en">Screen mode test window</span><span class="ja">表示モードテストウィンドウ</span></a><ol><li><a href="#screenmodetest_patterntest"><span class="en">Pattern test</span><span class="ja">パターンテスト</span></a></li></ol></li><li><a href="#seamlessmouse"><span class="en">Seamless mouse mode</span><span class="ja">シームレスマウスモード</span></a><ol><li><a href="#seamlessmouse_mechanism"><span class="en">How to make the seamless mouse mode</span><span class="ja">シームレスマウスモードの作り方</span></a></li><li><a href="#seamlessmouse_multitouchtrackpad"><span class="en">How to click by the multi-touch trackpad on Macbook</span><span class="ja">Macbook のマルチタッチトラックパッドでクリックする方法</span></a></li></ol></li><li><a href="#shiromadokun"><span class="en">
Shiromadokun emulator
</span><span class="ja">
白窓君エミュレータ
</span></a></li><li><a href="#soundinterpolation"><span class="en">Sound interpolation algorithm</span><span class="ja">音声補間アルゴリズム</span></a></li><li><a href="#soundmonitor"><span class="en">Sound monitor</span><span class="ja">音声モニタ</span></a></li><li><a href="#sourcefrequency"><span class="en">Source oscillator frequency</span><span class="ja">原発振周波数</span></a></li><li><a href="#spr512bg1"><span class="en">BG1 displayed in 512x512</span><span class="ja">512x512でBG1を表示</span></a></li><li><a href="#spr768x512"><span class="en">Sprites displayed in 768x512</span><span class="ja">768x512でスプライトを表示</span></a></li><li><a href="#spritepatternviewer"><span class="en">Sprite pattern viewer</span><span class="ja">スプライトパターンビュア</span></a></li><li><a href="#stereoscopic"><span class="en">
      Stereoscopic viewing
    </span><span class="ja">
      立体視
    </span></a></li><li><a href="#textscreencopy"><span class="en">
Text screen copy
</span><span class="ja">
テキスト画面コピー
</span></a></li><li><a href="#tripleprecision"><span class="en">Triple precision floating point number</span><span class="ja">三倍精度浮動小数点数</span></a><ol><li><a href="#tripleprecision_sample"><span class="en">Example: Check the internal representation of the circular constant</span><span class="ja">例: 円周率の内部表現を確認する</span></a></li></ol></li><li><a href="#cyberstick"><span class="en">
CYBER STICK
</span><span class="ja">
サイバースティック
</span></a></li><li><a href="#xinput"><span class="en">
XInput support
</span><span class="ja">
XInput対応
</span></a></li><li><a href="#zkeyboard"><span class="en">
Z keyboard support
</span><span class="ja">
Zキーボード対応
</span></a><ol><li><a href="#zkeyboard_input"><span class="en">
Input from the Z keyboard
</span><span class="ja">
Zキーボードからの入力
</span></a></li><li><a href="#zkeyboard_led"><span class="en">
Control of LEDs on the Z keyboard
</span><span class="ja">
ZキーボードのLEDの制御
</span></a></li></ol></li></ol><!--_--><h2><a href="#_4096patterns" id="_4096patterns">1. <span class="en">4096 patterns</span> <span class="ja">4096 個のパターン</span> </a></h2><p><span class="en">If the <a href="menu.htm#_4096patterns">4096 patterns checkbox</a> in the <a href="menu.htm#modification">modification menu</a> is checked and reset, 4096 patterns can be defined.</span> <span class="ja"><a href="menu.htm#modification">改造メニュー</a>の<a href="menu.htm#_4096patterns">4096 個のパターンチェックボックス</a>を ON にしてリセットすると、4096 個のパターンを定義できるようになります。</span></p><p><span class="en">This setting is stored in the <a href="parameter.htm#sprbank">parameter sprbank</a>.</span> <span class="ja">この設定は<a href="parameter.htm#sprbank">パラメータ sprbank</a>に保存されます。</span></p><h3><span class="en">Text area shift</span> <span class="ja">テキストエリアの移動</span></h3><p><span class="en">Shift the text area from $00EBC000-$00EBFFFF to $00EB4000-$00EB7FFF so that you can define 256 patterns even if you use 2 planes of text area.</span> <span class="ja">テキストエリアを $00EBC000～$00EBFFFF から $00EB4000～$00EB7FFF へ移動させて、テキストエリアを 2 面使っていてもパターンを 256 個定義できるようにします。</span></p><table><caption><span class="en">Memory map of sprite screen</span><span class="ja">スプライト画面のメモリマップ</span></caption><thead><tr><th rowspan="2"><span class="en">Address</span><span class="ja">アドレス</span></th><th colspan="4" style="border-left-style:solid"><span class="en">Before text area shift</span><span class="ja">テキストエリアの移動前</span></th><th colspan="2" style="border-left-style:solid"><span class="en">After text area shift</span><span class="ja">テキストエリアの移動後</span></th></tr><tr><th colspan="3" style="border-left-style:solid">256x256/512x512</th><th style="border-left-style:solid">768x512</th><th style="border-left-style:solid">256x256/512x512</th><th style="border-left-style:solid">768x512</th></tr></thead><tbody><tr><td>$00EB0000<br>:<br>$00EB03FF</td><td colspan="3" style="border-left-style:solid"><span class="en">Sprite 0 to 127</span><span class="ja">スプライト 0～127</span></td><td rowspan="2" style="border-left-style:solid"><span class="en">Bus error</span><span class="ja">バスエラー</span></td><td style="border-left-style:solid"><span class="en">Sprite 0 to 127</span><span class="ja">スプライト 0～127</span></td><td rowspan="2" style="border-left-style:solid"><span class="en">Bus error</span><span class="ja">バスエラー</span></td></tr><tr><td>$00EB0400<br>:<br>$00EB07FF</td><td colspan="3" style="border-left-style:solid"><span class="en">Sprite 128 to 255 (extended)</span><span class="ja">スプライト 128～255(拡張)</span></td><td style="border-left-style:solid"><span class="en">Sprite 128 to 255 (extended)</span><span class="ja">スプライト 128～255(拡張)</span></td></tr><tr><td>$00EB0800<br>:<br>$00EB0815</td><td colspan="6" style="border-left-style:solid"><span class="en">Control registers</span><span class="ja">制御レジスタ</span></td></tr><tr><td>$00EB0816<br>:<br>$00EB3FFF</td><td colspan="6" style="border-left-style:solid"><span class="en">Unused</span><span class="ja">未使用</span></td></tr><tr><td>$00EB4000<br>:<br>$00EB5FFF</td><td rowspan="2" colspan="4" style="border-left-style:solid"><span class="en">Unused</span><span class="ja">未使用</span></td><td style="border-left-style:solid"><span class="en">Text area 0</span><span class="ja">テキストエリア 0</span></td><td rowspan="5" style="border-left-style:solid"><span class="en">Bus error</span><span class="ja">バスエラー</span></td></tr><tr><td>$00EB6000<br>:<br>$00EB7FFF</td><td style="border-left-style:solid"><span class="en">Text area 0</span><span class="ja">テキストエリア 1</span></td></tr><tr><td>$00EB8000<br>:<br>$00EBBFFF</td><td colspan="3" style="border-left-style:solid"><span class="en">Pattern 0 to 127</span><span class="ja">パターン 0～127</span></td><td rowspan="3" style="border-left-style:solid"><span class="en">Bus error</span><span class="ja">バスエラー</span></td><td rowspan="3" style="border-left-style:solid"><span class="en">Pattern 0 to 255</span><span class="ja">パターン 0～255</span></td></tr><tr><td>$00EBC000<br>:<br>$00EBDFFF</td><td colspan="2" style="border-left-style:solid"><span class="en">Pattern 128 to 191</span><span class="ja">パターン 128～191</span></td><td style="border-left-style:solid"><span class="en">Text area 0</span><span class="ja">テキストエリア 0</span></td></tr><tr><td>$00EBE000<br>:<br>$00EBFFFF</td><td style="border-left-style:solid"><span class="en">Pattern 192 to 255</span><span class="ja">パターン 192～255</span></td><td style="border-left-style:solid"><span class="en">Text area 1</span><span class="ja">テキストエリア 1</span></td><td style="border-left-style:solid"><span class="en">Text area 1</span><span class="ja">テキストエリア 1</span></td></tr></tbody></table><h3><span class="en">Referencing patterns from sprite and text areas</span> <span class="ja">スプライトエリアとテキストエリアからのパターンの参照</span></h3><p><span class="en">Increase the number of patterns that can be referenced from 256 to 1024 or 4096 by changing the sprite and text areas as follows</span><p>スプライトエリアとテキストエリアを以下のように変更することで、参照できるパターンの数を 256 個から 1024 個または 4096 個に増やします。</p></p><table><caption><span class="en">Sprite area (256 patterns)</span><span class="ja">スプライトエリア (256 個のパターン)</span></caption><tbody><tr><td></td><th style="border-left-style:solid">15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr><tr><th>+0</th><td rowspan="2" colspan="6" style="border-left-style:solid"></td><td colspan="10" style="border-left-style:solid">X 座標</td></tr><tr><th>+2</th><td colspan="10" style="border-left-style:solid">Y 座標</td></tr><tr><th>+4</th><td style="border-left-style:solid"><span class="en">Up/Down</span><span class="ja">上下</span></td><td style="border-left-style:solid"><span class="en">Left/Right</span><span class="ja">左右</span></td><td colspan="2" style="border-left-style:solid"></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><th>+6</th><td colspan="13" style="border-left-style:solid"></td><td style="border-left-style:solid"><span class="en">Tofu</span><span class="ja">豆腐</span></td><td colspan="2" style="border-left-style:solid"><span class="en">Priority</span><span class="ja">プライオリティ</span></td></tr><tr><td colspan="17">:</td></tr></tbody></table><table><caption><span class="en">Sprite area (1024 patterns)</span><span class="ja">スプライトエリア (1024 個のパターン)</span></caption><tbody><tr><td></td><th style="border-left-style:solid">15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr><tr><th>+0</th><td rowspan="2" colspan="6" style="border-left-style:solid"></td><td colspan="10" style="border-left-style:solid">X 座標</td></tr><tr><th>+2</th><td colspan="10" style="border-left-style:solid">Y 座標</td></tr><tr><th>+4</th><td style="border-left-style:solid"><span class="en">Up/Down</span><span class="ja">上下</span></td><td style="border-left-style:solid"><span class="en">Left/Right</span><span class="ja">左右</span></td><td colspan="2" style="border-left-style:solid"><span class="en">Bank number</span><span class="ja">バンク番号</span></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><th>+6</th><td colspan="13" style="border-left-style:solid"></td><td style="border-left-style:solid"><span class="en">Tofu</span><span class="ja">豆腐</span></td><td colspan="2" style="border-left-style:solid"><span class="en">Priority</span><span class="ja">プライオリティ</span></td></tr><tr><td colspan="17">:</td></tr></tbody></table><table><caption><span class="en">Sprite area (4096 patterns without inversion)</span><span class="ja">スプライトエリア (4096 個のパターン、反転なし)</span></caption><tbody><tr><td></td><th style="border-left-style:solid">15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr><tr><th>+0</th><td rowspan="2" colspan="6" style="border-left-style:solid"></td><td colspan="10" style="border-left-style:solid">X 座標</td></tr><tr><th>+2</th><td colspan="10" style="border-left-style:solid">Y 座標</td></tr><tr><th>+4</th><td colspan="4" style="border-left-style:solid"><span class="en">Bank number</span><span class="ja">バンク番号</span></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><th>+6</th><td colspan="13" style="border-left-style:solid"></td><td style="border-left-style:solid"><span class="en">Tofu</span><span class="ja">豆腐</span></td><td colspan="2" style="border-left-style:solid"><span class="en">Priority</span><span class="ja">プライオリティ</span></td></tr><tr><td colspan="17">:</td></tr></tbody></table><table><caption><span class="en">Sprite area (4096 patterns with inversion)</span><span class="ja">スプライトエリア (4096 個のパターン、反転あり)</span></caption><tbody><tr><td></td><th style="border-left-style:solid">15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr><tr><th>+0</th><td rowspan="2" colspan="6" style="border-left-style:solid"></td><td colspan="10" style="border-left-style:solid">X 座標</td></tr><tr><th>+2</th><td colspan="10" style="border-left-style:solid">Y 座標</td></tr><tr><th>+4</th><td colspan="4" style="border-left-style:solid"><span class="en">Bank number</span><span class="ja">バンク番号</span></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><th>+6</th><td style="border-left-style:solid"><span class="en">Up/Down</span><span class="ja">上下</span></td><td style="border-left-style:solid"><span class="en">Left/Right</span><span class="ja">左右</span></td><td colspan="11" style="border-left-style:solid"></td><td style="border-left-style:solid"><span class="en">Tofu</span><span class="ja">豆腐</span></td><td colspan="2" style="border-left-style:solid"><span class="en">Priority</span><span class="ja">プライオリティ</span></td></tr><tr><td colspan="17">:</td></tr></tbody></table><table><caption><span class="en">Text area (256 patterns)</span><span class="ja">テキストエリア (256 個のパターン)</span></caption><thead><tr><th>15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr></thead><tbody><tr><td><span class="en">Up/Down</span><span class="ja">上下</span></td><td style="border-left-style:solid"><span class="en">Left/Right</span><span class="ja">左右</span></td><td colspan="2" style="border-left-style:solid"></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><td colspan="16">:</td></tr></tbody></table><table><caption><span class="en">Text area (1024 patterns)</span><span class="ja">テキストエリア (1024 個のパターン)</span></caption><thead><tr><th>15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr></thead><tbody><tr><td><span class="en">Up/Down</span><span class="ja">上下</span></td><td style="border-left-style:solid"><span class="en">Left/Right</span><span class="ja">左右</span></td><td colspan="2" style="border-left-style:solid"><span class="en">Bank number</span><span class="ja">バンク番号</span></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><td colspan="16">:</td></tr></tbody></table><table><caption><span class="en">Text area (4096 patterns)</span><span class="ja">テキストエリア (4096 個のパターン)</span></caption><thead><tr><th>15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr></thead><tbody><tr><td colspan="4"><span class="en">Bank number</span><span class="ja">バンク番号</span></td><td colspan="4" style="border-left-style:solid"><span class="en">Palette block</span><span class="ja">パレットブロック</span></td><td colspan="8" style="border-left-style:solid"><span class="en">Pattern number</span><span class="ja">パターン番号</span></td></tr><tr><td colspan="16">:</td></tr></tbody></table><p><span class="en">When the number of patterns is increased to 4096, the up/down and left/right inversions are eliminated. However, if there is no need to save patterns, it is considered sufficient to define inverted patterns as needed.</span> <span class="ja">4096 個にしたとき上下左右の反転がなくなりますが、パターンを節約する必要がなければ、必要に応じて反転したパターンを定義すればよいと考えられます。</span></p><p><span class="en">Replacing the inversion instructions with a bank selection allows you to define the result of the inversion. For example, shadows of patterns that used to be done by inversion can be adjusted simply by changing the definition process.</span> <span class="ja">反転の指示をバンク選択に置き換えることで、反転の結果を定義できるようになります。例えば、反転で済ませていたパターンの影の調整が、定義の処理の変更だけで行えます。</span></p><h3><span class="en">Expansion of pattern area</span> <span class="ja">パターンエリアの拡張</span></h3><p><span class="en">The pattern area ($00EB8000-$00EBFFFF) is expanded 16 times using bank switching, increasing the number of patterns that can be defined from 256 to 4096.</span> <span class="ja">パターンエリア ($00EB8000～$00EBFFFF) をバンク切り替えを用いて 16 倍に拡張することで、定義できるパターンの数を 256 個から 4096 個に増やします。</span></p><p><span class="en">The weakness of bank switching is random access, but since a pattern is 16 or 64 words, even if writes increase by one word per pattern, the impact is expected to be limited.</span> <span class="ja">バンク切り替えの弱点はランダムアクセスですが、1 パターンが 16 または 64 ワードなので、書き込みが 1 パターンあたり 1 ワード増えたとしても影響は限定的と考えられます。</span></p><h3><span class="en">Adding registers</span> <span class="ja">レジスタの追加</span></h3><p><span class="en">Added bank control register ($00EB0812) and bank select register ($00EB0814).</span> <span class="ja">バンク制御レジスタ ($00EB0812) とバンク選択レジスタ ($00EB0814) を追加します。</span></p><table><caption><span class="en">Bank control register ($00EB0812)</span><span class="ja">バンク制御レジスタ ($00EB0812)</span></caption><thead><tr><th>15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr></thead><tbody><tr><td colspan="13"></td><td colspan="2" style="border-left-style:solid"><span class="en">Mode</span><span class="ja">モード</span></td><td style="border-left-style:solid"><span class="en">Shift</span><span class="ja">移動</span></td></tr></tbody></table><table><caption><span class="en">Mode</span><span class="ja">モード</span></caption><thead><tr><th><span class="en">Mode</span><span class="ja">モード</span></th><th style="border-left-style:solid"><span class="en">Number of patterns</span><span class="ja">パターンの数</span></th><th style="border-left-style:solid"><span class="en">Sprite inversion</span><span class="ja">スプライトの反転</span></th><th style="border-left-style:solid"><span class="en">Text inversion</span><span class="ja">テキストの反転</span></th></tr></thead><tbody><tr><td>0</td><td style="border-left-style:solid">256</td><td rowspan="2" colspan="2" style="border-left-style:solid"><span class="en">Available</span><span class="ja">できる</span></td></tr><tr><td>1</td><td style="border-left-style:solid">1024</td></tr><tr><td>2</td><td rowspan="2" style="border-left-style:solid">4096</td><td colspan="2" style="border-left-style:solid"><span class="en">Not available</span><span class="ja">できない</span></td></tr><tr><td>3</td><td style="border-left-style:solid"><span class="en">Available</span><span class="ja">できる</span></td><td style="border-left-style:solid"><span class="en">Not available</span><span class="ja">できない</span></td></tr></tbody></table><table><caption><span class="en">Shift</span><span class="ja">移動</span></caption><thead><tr><th><span class="en">Shift</span><span class="ja">移動</span></th><th style="border-left-style:solid"><span class="en">Text area shift</span><span class="ja">テキストエリアの移動</span></th><th style="border-left-style:solid"><span class="en">Range of the text area</span><span class="ja">テキストエリアの範囲</span></th></tr></thead><tbody><tr><td>0</td><td style="border-left-style:solid"><span class="en">Not do</span><span class="ja">しない</span></td><td style="border-left-style:solid"><span class="en">$00EBC000-$00EBFFFF</span><span class="ja">$00EBC000～$00EBFFFF</span></td></tr><tr><td>1</td><td style="border-left-style:solid"><span class="en">Do</span><span class="ja">する</span></td><td style="border-left-style:solid"><span class="en">$00EB4000-$00E7FFFF</span><span class="ja">$00EB4000～$00EB7FFF</span></td></tr></tbody></table><table><caption><span class="en">Bank select register ($00EB0814)</span><span class="ja">バンク選択レジスタ ($00EB0814)</span></caption><thead><tr><th>15</th><th style="border-left-style:solid">14</th><th style="border-left-style:solid">13</th><th style="border-left-style:solid">12</th><th style="border-left-style:solid">11</th><th style="border-left-style:solid">10</th><th style="border-left-style:solid">9</th><th style="border-left-style:solid">8</th><th style="border-left-style:solid">7</th><th style="border-left-style:solid">6</th><th style="border-left-style:solid">5</th><th style="border-left-style:solid">4</th><th style="border-left-style:solid">3</th><th style="border-left-style:solid">2</th><th style="border-left-style:solid">1</th><th style="border-left-style:solid">0</th></tr></thead><tbody><tr><td colspan="4"></td><td colspan="4" style="border-left-style:solid"><span class="en">Bank number</span><span class="ja">バンク番号</span></td><td colspan="8" style="border-left-style:solid"></td></tr></tbody></table><table><caption><span class="en">Bank number</span><span class="ja">バンク番号</span></caption><thead><tr><th><span class="en">Bank number</span><span class="ja">バンク番号</span></th><th style="border-left-style:solid"><span class="en">Range of pattern numbers accessible in $00EB8000-$00EBFFFF</span><span class="ja">$00EB8000～$00EBFFFF でアクセスできるパターン番号の範囲</span></th></tr></thead><tbody><tr><td>0</td><td style="border-left-style:solid"><span class="en">0 to 255†</span><span class="ja">0～255†</span></td></tr><tr><td>1</td><td style="border-left-style:solid"><span class="en">256 to 511</span><span class="ja">256～511</span></td></tr><tr><td>2</td><td style="border-left-style:solid"><span class="en">512 to 767</span><span class="ja">512～767</span></td></tr><tr><td>3</td><td style="border-left-style:solid"><span class="en">768 to 1023</span><span class="ja">768～1023</span></td></tr><tr><td>4</td><td style="border-left-style:solid"><span class="en">1024 to 1279</span><span class="ja">1024～1279</span></td></tr><tr><td>5</td><td style="border-left-style:solid"><span class="en">1280 to 1535</span><span class="ja">1280～1535</span></td></tr><tr><td>6</td><td style="border-left-style:solid"><span class="en">1536 to 1791</span><span class="ja">1536～1791</span></td></tr><tr><td>7</td><td style="border-left-style:solid"><span class="en">1792 to 2047</span><span class="ja">1792～2047</span></td></tr><tr><td>8</td><td style="border-left-style:solid"><span class="en">2048 to 2303</span><span class="ja">2048～2303</span></td></tr><tr><td>9</td><td style="border-left-style:solid"><span class="en">2304 to 2559</span><span class="ja">2304～2559</span></td></tr><tr><td>10</td><td style="border-left-style:solid"><span class="en">2560 to 2815</span><span class="ja">2560～2815</span></td></tr><tr><td>11</td><td style="border-left-style:solid"><span class="en">2816 to 3071</span><span class="ja">2816～3071</span></td></tr><tr><td>12</td><td style="border-left-style:solid"><span class="en">3072 to 3327</span><span class="ja">3072～3327</span></td></tr><tr><td>13</td><td style="border-left-style:solid"><span class="en">3328 to 3583</span><span class="ja">3328～3583</span></td></tr><tr><td>14</td><td style="border-left-style:solid"><span class="en">3584 to 3839</span><span class="ja">3584～3839</span></td></tr><tr><td>15</td><td style="border-left-style:solid"><span class="en">3840 to 4095</span><span class="ja">3840～4095</span></td></tr></tbody></table><p><span class="en">†The number of patterns that can be accessed in bank 0 is 256, but if one plane is used without text area shift, the number is reduced to 192, and if two planes are used, the number is reduced to 128.</span> <span class="ja">†バンク 0 でアクセスできるパターンは 256 個ですが、テキストエリアを移動せず 1 面使うと 192 個に、同じく 2 面使うと 128 個に減ります。</span></p><p><span class="en">Pattern numbers from 0 to 4095 can be written to the bank select register without shifting.</span> <span class="ja">0～4095 のパターン番号をシフトせずにバンク選択レジスタへ書き込めます。</span></p><p><span class="en">To prevent later programs from malfunctioning, set both back to 0 when you are finished using them.</span> <span class="ja">後のプログラムが誤動作しないように、どちらも使い終わったら 0 に戻してください。</span></p><h3><span class="en">Pseudo graphic screen</span> <span class="ja">疑似グラフィック画面</span></h3><p><span class="en">By laying each of the 4096 patterns in the background one by one, it can be used as a third 1024x1024 dot 16-color graphic screen.</span> <span class="ja">バックグラウンドに 4096 個のパターンを 1 個ずつ敷き詰めることで、3 枚目の 1024x1024 ドット 16 色のグラフィック画面として使うことができます。</span></p><h3><span class="en">Supplemental information on text area</span> <span class="ja">テキストエリアに関する補足</span></h3><p><span class="en">The text area before shift and the second half of bank 0 in the pattern area have the same address but different entities. Data written to the text area before shift is written to both the text area and the second half of bank 0. Data read from the text area before shift is read from the second half of bank 0. Data written to the text area after shift cannot be read from the text area before shift because it has not been written to the second half of bank 0.</span> <span class="ja">移動前のテキストエリアと、パターンエリアのバンク 0 の後半は、アドレスが同じですが実体が違います。移動前のテキストエリアへ書き込んだデータは、テキストエリアと、バンク 0 の後半の両方へ書き込まれます。移動前のテキストエリアから読み出したデータは、バンク 0 の後半から読み出されます。移動後のテキストエリアへ書き込んだデータは、バンク 0 の後半へ書き込まれていないので、移動前のテキストエリアから読み出せません。</span></p><p><span class="en">When bank 1 or higher is selected, the text area before shift will not be visible.</span> <span class="ja">バンク 1 以上を選択すると、移動前のテキストエリアは見えなくなります。</span></p><h3><span class="en">Other</span> <span class="ja">その他</span></h3><p><span class="en">Standard IOCS calls do not support 4096 patterns.</span> <span class="ja">標準の IOCS コールは 4096 個のパターンに対応していません。</span></p><!--A--><h2><a href="#adjustvsync" id="adjustvsync">2. <span class="en">Adjust to host refresh rate</span> <span class="ja">ホストのリフレッシュレートに合わせる</span> </a></h2><p><span class="en">Adjust VSYNC frequency to the host refresh rate. When the adjust to host refresh rate checkbox in the <a href="menu.htm#modification">modification menu</a> is ON, the dot clock frequency is adjusted so that they match if the host refresh rate is 0.75 to 1.25 times the vertical sync frequency. Changes will take effect immediately. This setting is saved in the <a href="parameter.htm#adjustvsync">parameter adjustvsync</a>.</span> <span class="ja">垂直同期周波数をホストのリフレッシュレートに合わせます。 <a href="menu.htm#modification">改造メニュー</a>のホストのリフレッシュレートに合わせるチェックボックスが ON のとき、ホストのリフレッシュレートが垂直同期周波数の 0.75～1.25 倍ならばそれらが一致するようにドットクロック周波数を調整します。 変更は直ちに反映されます。 この設定は<a href="parameter.htm#adjustvsync">パラメータ adjustvsync</a>に保存されます。</span></p><p><span class="en">The host refresh rate text field in the <a href="menu.htm#modification">modification menu</a> allows you to specify the host refresh rate. If not specified, DisplayMode.getRefreshRate() is used to try to get the refresh rate. If it is not specified and cannot be obtained, 59.94 Hz is used. Changes will take effect immediately. This setting is saved in the <a href="parameter.htm#refreshrate">parameter refreshrate</a>.</span> <span class="ja"><a href="menu.htm#modification">改造メニュー</a>のホストのリフレッシュレートテキストフィールドでホストのリフレッシュレートを指定できます。 指定がないときは DisplayMode.getRefreshRate() を用いてリフレッシュレートの取得を試みます。 指定がなく取得もできなかったときは 59.94Hz を使用します。 変更は直ちに反映されます。 この設定は<a href="parameter.htm#refreshrate">パラメータ refreshrate</a>に保存されます。</span></p><p><span class="en">The current vertical sync frequency can be checked with the <a href="feature.htm#screenmodetest">screen mode test window</a>.</span> <span class="ja">現在の垂直同期周波数は<a href="feature.htm#screenmodetest">表示モードテストウィンドウ</a>で確認できます。</span></p><p><span class="en">To quickly check the effect, use &#34;echo ^[[?4h&#34; (for ^[, press the ESC key twice) to put the console in 8-dot smooth scroll mode and then display a long text file. If you do not match the refresh rate of the host, the scrolling will rattle, but if you do, the scrolling will be smooth. If you set &#34;mew d0a 1&#34; in db.x to 4-dot smooth scroll mode, the smoothness will increase.</span> <span class="ja">手っ取り早く効果を確認するには、「echo ^[[?4h」(^[は ESC キーを 2 回押す) でコンソールを 8 ドットスムーススクロールモードにしてから長いテキストファイルを表示するとよいでしょう。 ホストのリフレッシュレートに合わせないとガタガタとスクロールしますが、合わせるとスムースにスクロールします。db.x で「mew d0a 1」として 4 ドットスムーススクロールモードにするとヌルヌル感が増します。</span></p><h2><a href="#atcmonitor" id="atcmonitor">3. <span class="en">Address translation caches monitor</span> <span class="ja">アドレス変換キャッシュモニタ</span></a></h2><p><span class="smallimg"><img alt="atcmonitor.png" src="atcmonitor.png"></span></p><p><span class="en">Address translation caches monitor displays contents of the address translation caches of MMU. The address translation caches of XEiJ are an original specification different from MC68060.</span> <span class="ja">アドレス変換キャッシュモニタは MMU のアドレス変換キャッシュの内容を表示します。XEiJ のアドレス変換キャッシュは MC68060 と異なる独自仕様です。</span></p><!--B--><h2><a href="#branchlog" id="branchlog">4. <span class="en">Branch log</span> <span class="ja">分岐ログ</span></a></h2><p><span class="en">XEiJ saves the branch target address and the branch source address of the latest 65536 branches in the branch log. Branches mentioned here include all non-incremental changes of program counter such as interrupts. You can trace back changes of program counter and disassemble codes at the branch source address.</span> <span class="ja">XEiJ はプログラムカウンタのインクリメント以外の変化すなわち割り込みを含むすべての分岐の分岐元と分岐先のアドレスを直近の 65535 回までメモリ上の分岐ログに保存しています。分岐ログウインドウを開くとプログラムカウンタの変化を遡って逆アセンブルすることができます。</span></p><p><span class="en"> <a href="feature.htm#corecontrolbuttons">Core control buttons</a> are located. </span><span class="ja"> <a href="feature.htm#corecontrolbuttons">コア制御ボタン</a>が配置されています。 </span></p><h2><a href="#buttonfunctionassignments" id="buttonfunctionassignments">5. <span class="en"> F11/F12 and button function assignments window </span><span class="ja"> F11/F12 およびボタン機能割り当てウインドウ </span></a></h2><p><span class="smallimg"><img alt="buttonfunction.png" src="buttonfunction.png"></span></p><p><span class="en"> Clicking <a href="menu.htm#buttonfunctionassignments">F11/F12 and button function assignments</a> in the <a href="menu.htm#input">input menu</a> opens the F11/F12 and button function assignments window. In the button function assignments window, you can assign functions to the F11 key, F12 key, wheel button, wheel scroll up, wheel scroll down, button 4, and button 5. The F11 and F12 keys can be used to separate functions for normal and fullscreen display. You can select one of Shift, Ctrl, or Alt as a modifier key. </span><span class="ja"> <a href="menu.htm#input">入力メニュー</a>の<a href="menu.htm#buttonfunctionassignments">F11/F12 およびボタン機能割り当て</a>をクリックすると F11/F12 およびボタン機能割り当てウインドウが開きます。 ボタン機能割り当てウインドウで、F11 キー、F12 キー、ホイールボタン、ホイールスクロールアップ、ホイールスクロールダウン、ボタン 4、ボタン 5 に機能を割り当てることができます。F11 キーと F12 キーは通常表示のときと全画面表示のときで機能を分けられます。 修飾キーとして Shift、Ctrl、Alt から 1 個を選択できます。 </span></p><p><span class="en"> The functions that can be assigned to each button are as follows. </span><span class="ja"> 各ボタンに割り当てられる機能は以下の通りです。 </span></p><ol><li><span class="en"> Toggle fullscreen </span><span class="ja"> 全画面表示の切り替え </span></li><li><span class="en"> Toggle seamless mouse </span><span class="ja"> シームレスマウスの切り替え </span></li><li><span class="en"> Take a screenshot </span><span class="ja"> スクリーンショットを撮る </span></li><li><span class="en"> Text screen copy </span><span class="ja"> テキスト画面コピー </span></li><li><span class="en"> Start recording GIF animation </span><span class="ja"> GIF アニメーション録画開始 </span></li><li><span class="en"> Stop and start </span><span class="ja"> 停止と再開 </span></li><li><span class="en"> 1 trace </span><span class="ja"> トレース 1 回 </span></li><li><span class="en"> 10 traces </span><span class="ja"> トレース 10 回 </span></li><li><span class="en"> 100 traces </span><span class="ja"> トレース 100 回 </span></li><li><span class="en"> 1 step </span><span class="ja"> ステップ 1 回 </span></li><li><span class="en"> 10 steps </span><span class="ja"> ステップ 10 回 </span></li><li><span class="en"> 100 steps </span><span class="ja"> ステップ 100 回 </span></li><li><span class="en"> Step until return </span><span class="ja"> ステップアンティルリターン </span></li><li><span class="en"> Left click </span><span class="ja"> 左クリック </span></li><li><span class="en"> Right click </span><span class="ja"> 右クリック </span></li><li><span class="en"> No function </span><span class="ja"> 機能なし </span></li></ol><p><span class="en"> These settings are stored in <a href="parameter.htm#f11key">parameter f11key, etc</a>. The parameter keys are strings consisting of shift, ctrl, alt, which represent modifier keys, and f11key, fullscreenf11key, f12key, fullscreenf12key, wheel, wheelup, wheeldown, button4, button5, which represent buttons. The parameter values represent the corresponding functions. </span><span class="ja"> これらの設定は<a href="parameter.htm#f11key">パラメータ f11key など</a>に保存されます。 パラメータのキーは修飾キーを表す shift、ctrl、alt と、ボタンを表す f11key、fullscreenf11key、f12key、fullscreenf12key、wheel、wheelup、wheeldown、button4、button5 を連結した文字列です。 パラメータの値は対応する機能を表します。 </span></p><p><span class="en"> The F11 and F12 keys can only be entered with the keys assigned in the <a href="feature.htm#keyassignments">key assignments window</a> when the no function is selected in the <a href="feature.htm#buttonfunctionassignments">F11/F12 and button function assignments window</a>. </span><span class="ja"> F11 キーと F12 キーは<a href="feature.htm#buttonfunctionassignments">F11/F12 およびボタン機能割り当てウインドウ</a>で機能なしを選択したときだけ<a href="feature.htm#keyassignments">キー割り当てウインドウ</a>で割り当てたキーを入力できます。 </span></p><!--C--><h2><a href="#cdrom" id="cdrom">6. CD-ROM</a></h2><p><span class="en">ISO files are accessed as if they are SCSI CD-ROM drives. In X68000 Hybrid, X68030 and 060turbo mode, you can boot the system from an ISO file by clicking &#34;Reboot from it&#34; button if a boot sector exists. Files in CD-ROM are accessed via <a href="http://retropc.net/x68000/software/disk/scsi/susie/" target="_blank">susie.x</a> in Human68k environment.</span> <span class="ja">*.ISO ファイルを SCSI CD-ROM とみなします。ブートセクタがあるときは「ここから再起動」で CD-ROM から直接起動できます。Human68k からは <a href="http://retropc.net/x68000/software/disk/scsi/susie/" target="_blank">susie.x</a> でアクセスできます。</span></p><h2><a href="#corecontrolbuttons" id="corecontrolbuttons">7. <span class="en"> Core control buttons </span><span class="ja"> コア制御ボタン </span></a></h2><p><span class="en"> Common core control buttons are located in the <a href="feature.htm#branchlog">branch log</a>, <a href="feature.htm#disassemblelist">disassemble list</a>, and <a href="feature.htm#registerlist">register list</a>. </span><span class="ja"> <a href="feature.htm#branchlog">分岐ログ</a>、<a href="feature.htm#disassemblelist">逆アセンブルリスト</a>、<a href="feature.htm#registerlist">レジスタリスト</a>に共通のコア制御ボタンが配置されています。 </span></p><ul><li><span class="en"> <img alt="ori illegal" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAWklEQVR4Xr2PAQoAIAgD/T/4wh5TEBSxiSVZA6N2Y5iolpo50o8k/SmkL4A8ToUYQO+Ik7EItzjiZMDd8lxOhhWKcDTW9wwFOBugMMfQ2MLaZsfNwhu9K8ycBmKyStAxpc8eAAAAAElFTkSuQmCC"> …Checkbox to consider ORI.B #$00,D0 as an illegal instruction </span><span class="ja"> <img alt="ori illegal" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAWklEQVR4Xr2PAQoAIAgD/T/4wh5TEBSxiSVZA6N2Y5iolpo50o8k/SmkL4A8ToUYQO+Ik7EItzjiZMDd8lxOhhWKcDTW9wwFOBugMMfQ2MLaZsfNwhu9K8ycBmKyStAxpc8eAAAAAElFTkSuQmCC"> …ORI.B #$00,D0 を不当命令とみなすチェックボックス </span></li><li><span class="en"> <img alt="stop on error" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAMUlEQVR4XmPo7b39n5qYAUxQCRBtINx2AmDUQNxg8BtILBg4A6nuZaobSCyAG0hNDACdPOxBiQ3iXAAAAABJRU5ErkJggg=="> …Checkbox to stop on error </span><span class="ja"> <img alt="stop on error" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAMUlEQVR4XmPo7b39n5qYAUxQCRBtINx2AmDUQNxg8BtILBg4A6nuZaobSCyAG0hNDACdPOxBiQ3iXAAAAABJRU5ErkJggg=="> … エラーで停止させるチェックボックス </span></li><li><span class="en"> <img alt="stop at start" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAYUlEQVR4Xs2QUQrAIAxDvT94wh1mgqDUl8wfKyxQoal5hZZanzezSn+S9D8gs0fAeTN4ApQjGw2fcwukOI+9nTmTtQTwV/pdIHpc8rlQjCAGKM4EOMwI2kHpW+CJ7gEzqwGddy1IaxAdSgAAAABJRU5ErkJggg=="> …Checkbox to stop at execution start position </span><span class="ja"> <img alt="stop at start" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAYUlEQVR4Xs2QUQrAIAxDvT94wh1mgqDUl8wfKyxQoal5hZZanzezSn+S9D8gs0fAeTN4ApQjGw2fcwukOI+9nTmTtQTwV/pdIHpc8rlQjCAGKM4EOMwI2kHpW+CJ7gEzqwGddy1IaxAdSgAAAABJRU5ErkJggg=="> … 実行開始位置で停止させるチェックボックス </span></li><li><span class="en"> <img alt="break" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAXUlEQVR4Xr3NUQrAIAyDYe8PnnCHUTKYFEkakbIf9KHFz9b7MypPe6+iJLh+E6m9BW92FETsIZvFUhBFwGHIgugUQ/+DO+bQFGQAm8UkmD10uxTc519qL8HbFlh5JoqgVqBZC/feAAAAAElFTkSuQmCC"> …Break button </span><span class="ja"> <img alt="break" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAXUlEQVR4Xr3NUQrAIAyDYe8PnnCHUTKYFEkakbIf9KHFz9b7MypPe6+iJLh+E6m9BW92FETsIZvFUhBFwGHIgugUQ/+DO+bQFGQAm8UkmD10uxTc519qL8HbFlh5JoqgVqBZC/feAAAAAElFTkSuQmCC"> … 停止ボタン </span></li><li><span class="en"> <img alt="trace" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAS0lEQVR4XmPo7b39n5qYAUxQCdDPQHRvYFODDdDPQGRAFwPR+TBAkYHoYjBxog3EhdHV0t9AbACbYTBxsg1EFwMBsg3EBeAGUhMDAJtvLUjdvGQiAAAAAElFTkSuQmCC"> …Trace button </span><span class="ja"> <img alt="trace" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAS0lEQVR4XmPo7b39n5qYAUxQCdDPQHRvYFODDdDPQGRAFwPR+TBAkYHoYjBxog3EhdHV0t9AbACbYTBxsg1EFwMBsg3EBeAGUhMDAJtvLUjdvGQiAAAAAElFTkSuQmCC"> … トレースボタン </span></li><li><span class="en"> <img alt="trace 10" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAZUlEQVR4XsWPAQqAMAwD93/YC32MgmC53dRNqRjI2qZZxkqty5rJsh9J+Dfw8PmLvP868EyP3oJf5Y7VevQ2xOJC8+5RYGeW5vk2kAwzKr1NbwPRmaV5HgYSDDQbz2zgDL4LzOQGnU82JNBcPmAAAAAASUVORK5CYII="> …Trace 10 times button </span><span class="ja"> <img alt="trace 10" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAZUlEQVR4XsWPAQqAMAwD93/YC32MgmC53dRNqRjI2qZZxkqty5rJsh9J+Dfw8PmLvP868EyP3oJf5Y7VevQ2xOJC8+5RYGeW5vk2kAwzKr1NbwPRmaV5HgYSDDQbz2zgDL4LzOQGnU82JNBcPmAAAAAASUVORK5CYII="> … トレース 10 回ボタン </span></li><li><span class="en"> <img alt="trace 100" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAXUlEQVR4XsWPAQpAIQxCuz90wn+YgmBgNn8LFgkmG/miUuvXMl3GkaR3QLszfU3Mx8BtqtdQblElA3jGXSgZwJe83W96QPRS2CUDTbh3iyoVEIUFs5pDwKjuATPdASFBX3wW0L/BAAAAAElFTkSuQmCC"> …Trace 100 times button </span><span class="ja"> <img alt="trace 100" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAXUlEQVR4XsWPAQpAIQxCuz90wn+YgmBgNn8LFgkmG/miUuvXMl3GkaR3QLszfU3Mx8BtqtdQblElA3jGXSgZwJe83W96QPRS2CUDTbh3iyoVEIUFs5pDwKjuATPdASFBX3wW0L/BAAAAAElFTkSuQmCC"> … トレース 100 回ボタン </span></li><li><span class="en"> <img alt="step" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAATUlEQVR4XmPo7b39n5qYAUxQCdDXQHSvwL2EBwyMgbj42ABFBmLTR7GB6HqxGghTiK4BXRyXGtobSCxANwwmRpGBWMWwSZAL4AZSEwMAcRZWoAlX5CwAAAAASUVORK5CYII="> …Step button </span><span class="ja"> <img alt="step" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAATUlEQVR4XmPo7b39n5qYAUxQCdDXQHSvwL2EBwyMgbj42ABFBmLTR7GB6HqxGghTiK4BXRyXGtobSCxANwwmRpGBWMWwSZAL4AZSEwMAcRZWoAlX5CwAAAAASUVORK5CYII="> … ステップボタン </span></li><li><span class="en"> <img alt="step 10" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAYklEQVR4XmPo7b39n5qYAUxQCQysgTB16F5E1k+2gdjE4Wx0AXRbkeWQaXRxOBtDAE0RITkM/RgCWGhcYuh8vAYiY3Q5mHp0PoaB6ABDMZoYOp+ggcgAl+vJNpAYQDsDqYkBusQ/APsXNCcAAAAASUVORK5CYII="> …Step 10 times button </span><span class="ja"> <img alt="step 10" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAYklEQVR4XmPo7b39n5qYAUxQCQysgTB16F5E1k+2gdjE4Wx0AXRbkeWQaXRxOBtDAE0RITkM/RgCWGhcYuh8vAYiY3Q5mHp0PoaB6ABDMZoYOp+ggcgAl+vJNpAYQDsDqYkBusQ/APsXNCcAAAAASUVORK5CYII="> … ステップ 10 回ボタン </span></li><li><span class="en"> <img alt="step 100" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAWUlEQVR4XsVPCQoAIAzq/7AX9piCYGBDO2CRYDKXRsWstkyWcSThX6Hfmb4m5uvCrarXEDSolJoBcbdUaoIyb6nMRMbdVn2IQJ8GlapCBAacaj4qPMW7wkx2YiZoWMU+YEYAAAAASUVORK5CYII="> …Step 100 times button </span><span class="ja"> <img alt="step 100" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAWUlEQVR4XsVPCQoAIAzq/7AX9piCYGBDO2CRYDKXRsWstkyWcSThX6Hfmb4m5uvCrarXEDSolJoBcbdUaoIyb6nMRMbdVn2IQJ8GlapCBAacaj4qPMW7wkx2YiZoWMU+YEYAAAAASUVORK5CYII="> … ステップ 100 回ボタン </span></li><li><span class="en"> <img alt="step until return" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAT0lEQVR4XmPo7b39n5qYAUxQCRBtIDFqQIAoA+FeIQIQNBA9fNAxNvX0NRAEsGnGJgYTJ2ggCKCrodhAdECygTANhDA2ffQxkFxAOwOpiQEDSUrQvCAnZQAAAABJRU5ErkJggg=="> …Step until return button </span><span class="ja"> <img alt="step until return" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAT0lEQVR4XmPo7b39n5qYAUxQCRBtIDFqQIAoA+FeIQIQNBA9fNAxNvX0NRAEsGnGJgYTJ2ggCKCrodhAdECygTANhDA2ffQxkFxAOwOpiQEDSUrQvCAnZQAAAABJRU5ErkJggg=="> … ステップアンティルリターンボタン </span></li><li><span class="en"> <img alt="run" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAU0lEQVR4Xr3NQQoAIAhE0e4PnrDDFNNCQlJHkD7YIvI1RObqnHGOpmhQf08qg9lbGkQMWgJRhrrgvRjNa+8P6BVhqARmGKJBBkNl0N7baJBNwc7Z5785GHi1AS4AAAAASUVORK5CYII="> …Run button </span><span class="ja"> <img alt="run" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAU0lEQVR4Xr3NQQoAIAhE0e4PnrDDFNNCQlJHkD7YIvI1RObqnHGOpmhQf08qg9lbGkQMWgJRhrrgvRjNa+8P6BVhqARmGKJBBkNl0N7baJBNwc7Z5785GHi1AS4AAAAASUVORK5CYII="> … 実行ボタン </span></li></ul><h3><a href="#oriillegalcheckbox" id="oriillegalcheckbox">7.1. <span class="en"> Checkbox to consider ORI.B #$00,D0 as an illegal instruction </span><span class="ja"> ORI.B #$00,D0 を不当命令とみなすチェックボックス </span></a></h3><p><img alt="ori illegal" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAWklEQVR4Xr2PAQoAIAgD/T/4wh5TEBSxiSVZA6N2Y5iolpo50o8k/SmkL4A8ToUYQO+Ik7EItzjiZMDd8lxOhhWKcDTW9wwFOBugMMfQ2MLaZsfNwhu9K8ycBmKyStAxpc8eAAAAAElFTkSuQmCC"></p><p><span class="en"> Consider ORI.B #$00,D0 as an illegal instruction. The instruction code for ORI.B #$00,D0 is $0000,$0000. This instruction is rarely written intentionally, but is often executed when a runaway condition occurs with a jump to an unintended address. By treating this as an illegal instruction, it makes it easier for the debugger to catch the runaway. If the runaway is caught at an early stage, it is expected to reduce the time and effort required to find the cause of the problem. </span><span class="ja"> ORI.B #$00,D0 を不当命令とみなします。ORI.B #$00,D0 の命令コードは $0000,$0000 です。 この命令は意図して書かれることはほとんどありませんが、意図しないアドレスにジャンプして暴走したときにしばしば実行されます。 これを不当命令とみなすことで、デバッガで暴走を捕捉しやすくします。 暴走を早い段階で捉えられれば、原因を探る手間が減ることが期待できます。 </span></p><h3><a href="#stoponerrorcheckbox" id="stoponerrorcheckbox">7.2. <span class="en"> Checkbox to stop on error </span><span class="ja"> エラーで停止させるチェックボックス </span></a></h3><p><img alt="stop on error" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAMUlEQVR4XmPo7b39n5qYAUxQCRBtINx2AmDUQNxg8BtILBg4A6nuZaobSCyAG0hNDACdPOxBiQ3iXAAAAABJRU5ErkJggg=="></p><p><span class="en"> The core is stopped when a bus error, address error, illegal instruction, divide by zero, CHK instruction, TRAPV instruction, or privilege violation occurs. If an abnormality is caught at an early stage, it is expected to reduce the time and effort required to find the cause. A bus error intentionally generated to check for the presence of an expansion board will also stop the system. </span><span class="ja"> バスエラー、アドレスエラー、不当命令、ゼロ除算、CHK 命令、TRAPV 命令、特権違反などが発生したらコアを停止させます。 異常を早い段階で捉えられれば、原因を探る手間が減ることが期待できます。 拡張ボードの有無を確認するために意図的に発生させられたバスエラーでも停止します。 </span></p><h3><a href="#stopatstartcheckbox" id="stopatstartcheckbox">7.3. <span class="en"> Checkbox to stop at execution start position </span><span class="ja"> 実行開始位置で停止させるチェックボックス </span></a></h3><p><img alt="stop at start" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAYUlEQVR4Xs2QUQrAIAxDvT94wh1mgqDUl8wfKyxQoal5hZZanzezSn+S9D8gs0fAeTN4ApQjGw2fcwukOI+9nTmTtQTwV/pdIHpc8rlQjCAGKM4EOMwI2kHpW+CJ7gEzqwGddy1IaxAdSgAAAABJRU5ErkJggg=="></p><p><span class="en"> Stops the core at the start of program execution. It is used when you want to set a breakpoint in a program before executing it. The <a href="feature.htm#disassemblelist">disassemble list</a> shows the name of the program and the offset from the beginning, so you can easily find the place to set a breakpoint by comparing it with the assembly list generated by <a href="http://retropc.net/x68000/software/develop/as/has060/" target="_blank">HAS060.X</a> and the disassembly list generated by <a href="http://retropc.net/x68000/software/develop/dis/diseririn/" target="_blank">dis.x</a>. This feature is only available when Human68k 3.02 is running. </span><span class="ja"> プログラムの実行開始位置でコアを停止させます。 プログラムにブレークポイントを仕掛けてから実行したいときに使います。 <a href="feature.htm#disassemblelist">逆アセンブルリスト</a>にはプログラムの名前と先頭からのオフセットが表示されるので、<a href="http://retropc.net/x68000/software/develop/as/has060/" target="_blank">HAS060.X</a>が生成したアセンブルリストや<a href="http://retropc.net/x68000/software/develop/dis/diseririn/" target="_blank">dis.x</a>が生成した逆アセンブルリストと照合することで、ブレークポイントを仕掛ける場所を簡単に見つけられます。 この機能は Human68k 3.02 が動作しているときだけ有効です。 </span></p><h3><a href="#breakbutton" id="breakbutton">7.4. <span class="en"> Break button </span><span class="ja"> 停止ボタン </span></a></h3><p><img alt="break" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAXUlEQVR4Xr3NUQrAIAyDYe8PnnCHUTKYFEkakbIf9KHFz9b7MypPe6+iJLh+E6m9BW92FETsIZvFUhBFwGHIgugUQ/+DO+bQFGQAm8UkmD10uxTc519qL8HbFlh5JoqgVqBZC/feAAAAAElFTkSuQmCC"></p><p><span class="en"> Stops the core. All peripheral circuits as well as the MPU will stop. The cursor will also stop blinking, but this is not abnormal. Note that the RTC is based on the platform time and does not stop. In programs that use the RTC to measure time, the time the core was stopped is included in the elapsed time. </span><span class="ja"> コアを停止させます。MPU だけでなく周辺回路もすべて止まります。 カーソルの点滅も止まりますが異常ではありません。RTC はプラットフォームの時刻を基準にしているので止まらないことに注意してください。RTC を使って時間を計るプログラムではコアが止まっていた時間も経過時間に含まれます。 </span></p><h3><a href="#tracebutton" id="tracebutton">7.5. <span class="en"> Trace button </span><span class="ja"> トレースボタン </span></a></h3><p><img alt="trace" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAS0lEQVR4XmPo7b39n5qYAUxQCdDPQHRvYFODDdDPQGRAFwPR+TBAkYHoYjBxog3EhdHV0t9AbACbYTBxsg1EFwMBsg3EBeAGUhMDAJtvLUjdvGQiAAAAAElFTkSuQmCC"></p><p><span class="en"> Trace execution is performed. Trace execution executes the instruction pointed to by the program counter. It can trace areas that cannot be traced by the DB.X trace command, such as inside raster interrupt routines. </span><span class="ja"> トレース実行を行います。 トレース実行は、プログラムカウンタが指す命令を実行します。 ラスタ割り込みルーチンの中などの DB.X のトレースコマンドではトレースできない領域もトレースできます。 </span></p><h3><a href="#trace10timesbutton" id="trace10timesbutton">7.6. <span class="en"> Trace 10 times button </span><span class="ja"> トレース 10 回ボタン </span></a></h3><p><img alt="trace 10" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAZUlEQVR4XsWPAQqAMAwD93/YC32MgmC53dRNqRjI2qZZxkqty5rJsh9J+Dfw8PmLvP868EyP3oJf5Y7VevQ2xOJC8+5RYGeW5vk2kAwzKr1NbwPRmaV5HgYSDDQbz2zgDL4LzOQGnU82JNBcPmAAAAAASUVORK5CYII="></p><p><span class="en"> Repeat trace execution 10 times. </span><span class="ja"> トレース実行を 10 回繰り返します。 </span></p><h3><a href="#trace100timesbutton" id="trace100timesbutton">7.7. <span class="en"> Trace 100 times button </span><span class="ja"> トレース 100 回ボタン </span></a></h3><p><img alt="trace 100" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAXUlEQVR4XsWPAQpAIQxCuz90wn+YgmBgNn8LFgkmG/miUuvXMl3GkaR3QLszfU3Mx8BtqtdQblElA3jGXSgZwJe83W96QPRS2CUDTbh3iyoVEIUFs5pDwKjuATPdASFBX3wW0L/BAAAAAElFTkSuQmCC"></p><p><span class="en"> Repeat trace execution 100 times. </span><span class="ja"> トレース実行を 100 回繰り返します。 </span></p><h3><a href="#stepbutton" id="stepbutton">7.8. <span class="en"> Step button </span><span class="ja"> ステップボタン </span></a></h3><p><img alt="step" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAATUlEQVR4XmPo7b39n5qYAUxQCdDXQHSvwL2EBwyMgbj42ABFBmLTR7GB6HqxGghTiK4BXRyXGtobSCxANwwmRpGBWMWwSZAL4AZSEwMAcRZWoAlX5CwAAAAASUVORK5CYII="></p><p><span class="en"> Step execution is performed. Step execution executes the instruction pointed to by the program counter if it is a branch instruction, or else it places a temporary breakpoint immediately after the instruction and executes up to that point. Subroutine calls, DOS calls, IOCS calls, etc. do not stop until they return. </span><span class="ja"> ステップ実行を行います。 ステップ実行は、プログラムカウンタが指す命令が分岐命令ならばそれを実行し、さもなくばその命令の直後に臨時のブレークポイントを置いてそこまで実行します。 サブルーチン呼び出し、DOS コール、IOCS コールなどは復帰するまで止まりません。 </span></p><h3><a href="#step10timesbutton" id="step10timesbutton">7.9. <span class="en"> Step 10 times button </span><span class="ja"> ステップ 10 回ボタン </span></a></h3><p><img alt="step 10" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAYklEQVR4XmPo7b39n5qYAUxQCQysgTB16F5E1k+2gdjE4Wx0AXRbkeWQaXRxOBtDAE0RITkM/RgCWGhcYuh8vAYiY3Q5mHp0PoaB6ABDMZoYOp+ggcgAl+vJNpAYQDsDqYkBusQ/APsXNCcAAAAASUVORK5CYII="></p><p><span class="en"> Repeat step execution 10 times. </span><span class="ja"> ステップ実行を 10 回繰り返します。 </span></p><h3><a href="#step100timesbutton" id="step100timesbutton">7.10. <span class="en"> Step 100 times button </span><span class="ja"> ステップ 100 回ボタン </span></a></h3><p><img alt="step 100" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAWUlEQVR4XsVPCQoAIAzq/7AX9piCYGBDO2CRYDKXRsWstkyWcSThX6Hfmb4m5uvCrarXEDSolJoBcbdUaoIyb6nMRMbdVn2IQJ8GlapCBAacaj4qPMW7wkx2YiZoWMU+YEYAAAAASUVORK5CYII="></p><p><span class="en"> Repeat step execution 100 times. </span><span class="ja"> ステップ実行を 100 回繰り返します。 </span></p><h3><a href="#stepuntilreturnbutton" id="stepuntilreturnbutton">7.11. <span class="en"> Step until return button </span><span class="ja"> ステップアンティルリターンボタン </span></a></h3><p><img alt="step until return" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAT0lEQVR4XmPo7b39n5qYAUxQCRBtIDFqQIAoA+FeIQIQNBA9fNAxNvX0NRAEsGnGJgYTJ2ggCKCrodhAdECygTANhDA2ffQxkFxAOwOpiQEDSUrQvCAnZQAAAABJRU5ErkJggg=="></p><p><span class="en"> Step execution is repeated until an attempt is made to execute a return instruction with the stack pointer not decremented. </span><span class="ja"> スタックポインタが減っていない状態で復帰命令を実行しようとするまで、ステップ実行を繰り返します。 </span></p><h3><a href="#runbutton" id="runbutton">7.12. <span class="en"> Run button </span><span class="ja"> 実行ボタン </span></a></h3><p><img alt="run" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAU0lEQVR4Xr3NQQoAIAhE0e4PnrDDFNNCQlJHkD7YIvI1RObqnHGOpmhQf08qg9lbGkQMWgJRhrrgvRjNa+8P6BVhqARmGKJBBkNl0N7baJBNwc7Z5785GHi1AS4AAAAASUVORK5CYII="></p><p><span class="en"> Unstops the core. </span><span class="ja"> コアの停止を解除します。 </span></p><!--D--><h2><a href="#databreakpoint" id="databreakpoint">8. <span class="en">Data break point</span> <span class="ja">データブレークポイント</span></a></h2><p><span class="en">MPU stops just after it reads or writes data in the specified range at the specified physical address. Data break point shows its power in the following case: &#34;You know that the direct cause of malfunction of the program is broken code or data. But you do not know when and who broke them.&#34; You can catch directly the instruction that destroyed code or data by placing a data break point. When you think that the instruction is not written with the intention and the program runs away, trace the branch-log back to an instruction that has additional information such as a device name or an executable file name. If a copied data was broken, put a data break point at the copy source. You will efficiently find the root of the problem.</span> <span class="ja">特定の物理アドレスで特定の範囲のデータの読み書きを行った命令の直後で MPU を停止させます。「プログラムの誤動作の直接的な原因がコードやデータが破壊されているためであることは分かったけれど、いつ誰が壊したのか分からない」というときにデータブレークポイントが威力を発揮します。データブレークポイントを使えばコードやデータを破壊した命令を直接捉えることができます。その命令が正しく記述されたものではなく暴走していると思われる場合は <a href="feature.htm#branchlog">分岐ログ</a> を使って <a href="feature.htm#disassemblelist">逆アセンブルリスト</a> で近くにデバイス名または実行ファイル名が表示されるところまで遡ります。別の場所からコピーされたデータが壊れていたときはコピー元にデータブレークポイントを仕掛けます。効率よく問題の大元を見つけることができるでしょう。</span></p><h3><a href="#databreakpoint_mechanism" id="databreakpoint_mechanism">8.1. <span class="en">Mechanism of the data break point</span> <span class="ja">データブレークポイントの仕組み</span></a></h3><p><span class="en">Memory map of XEiJ is an array of memory mapped devices. Each page size is 8KB. Data break point device, which is an indirect memory mapped device, is assigned to the page that has data break points. When MPU reads or writes the page, data break point device invokes previous memory mapped device and stops MPU if the stop conditions are satisfied. An advantage of this method is its lightness. If a data break point starts monitoring all bus access, overall performance will significantly decrease. However, by using an indirect memory mapped device, overhead at a page that has no data break point becomes always zero even if you put several hundred data break points on other pages. There are some defects of this method. Misaligned accesses are not able to be detected because MPU splits them before bus access. In multi-task environment, code and data on RAM that physical address is not fixed are not able to be monitored.</span> <span class="ja">XEiJ のメモリマップはメモリマップトデバイスの配列です。データブレークポイントが設定されたページには間接メモリマップトデバイスであるデータブレークポイントデバイスが割り当てられ、データブレークポイントデバイスが元のメモリマップトデバイスを呼び出して停止条件が成立していたら MPU を止めます。この方法の利点は軽量であることです。データブレークポイントを 1 個設定しただけですべてのバスアクセスの監視が始まったのでは全体のパフォーマンスが大幅に低下してしまいますが、この方法ならばデータブレークポイントを何百個設定しようと設定されていないページのオーバーヘッドは常にゼロです。欠点はアラインメントの合っていないアクセスは分割されていて直接検出できないことと、マルチタスク環境の RAM 上のコードやデータは物理アドレスが固定されていないので監視できないことです。</span></p><h2><a href="#debugconsole" id="debugconsole">9. <span class="en">Debug console</span> <span class="ja">デバッグコンソール</span></a></h2><p><span class="en">You can stop, run, disassemble and dump by command input.</span> <span class="ja">コマンド入力で停止、実行、逆アセンブル、ダンプなどの処理を行います。</span></p><pre>[ h で使用法を表示]
&gt; <kbd>h</kbd>
コマンド
        d&lt;サイズ&gt; &lt;開始アドレス&gt;,&lt;終了アドレス&#185;&gt;
                                メモリダンプ
        f&lt;サイズ&gt; &lt;開始アドレス&gt;,&lt;終了アドレス&#185;&gt;,&lt;データ&gt;,…
                                メモリ充填
        g &lt;開始アドレス&gt;        実行
        h                       ヘルプ
        i                       停止
        l &lt;開始アドレス&gt;,&lt;終了アドレス&#185;&gt;
                                逆アセンブル
        ll                      ラベル一覧
        me&lt;サイズ&gt; &lt;開始アドレス&gt;,&lt;データ&gt;,…
                                メモリ編集
        ms&lt;サイズ&gt; &lt;開始アドレス&gt;,&lt;終了アドレス&#185;&gt;,&lt;データ&gt;,…
                                メモリ検索
        p &lt;式&gt;,…               計算と表示
        r                       ステップアンティルリターン
        s &lt;回数&gt;                ステップ
        t &lt;回数&gt;                トレース
        tx &lt;回数&gt;               レジスタ表示付きトレース
        txf &lt;回数&gt;              浮動小数点レジスタ表示付きトレース
        x                       レジスタ一覧
        xf                      浮動小数点レジスタ一覧
        &lt;式&gt;                    計算
        &lt;コマンド&gt;;…           逐次実行
        &#185;終了アドレスは範囲に含まれる
-- more -- [y/n] y
サイズ
        b       バイト (8bit)
        w       ワード (16bit)
        l       ロング (32bit)
        q       クワッド (64bit)
        s       単精度 (32bit)
        d       倍精度 (64bit)
        x       拡張精度 (80/96bit)
        t       三倍精度 (96bit)
        p       パック10進数 (96bit)
-- more -- [y/n] y
浮動小数点数
        1.0e+2                  10進数
        0b1.1001p+6             2進数
        0o1.44p+6               8進数
        0x1.9p+6 $64            16進数
        Infinity NaN            無限大, 非数
数学定数
        Apery Catalan E Eular Pi
文字コード
        &#39;A&#39;
文字列
        &#34;ABC&#34;
-- more -- [y/n] y
汎用レジスタ
        d0 … d7 r0 … r7       データレジスタ
        a0 … a7 r8 … r15 sp   アドレスレジスタ
浮動小数点レジスタ
        fp0 … fp7
制御レジスタ
        pc sr ccr sfc dfc cacr tc itt0 itt1 dtt0 dtt1 buscr
        usp vbr caar ssp msp isp urp srp pcr fpiar fpsr fpcr
変数
        foo                     浮動小数点変数
        foo$                    文字列変数
アドレスとファンクションコード
        &lt;アドレス&gt;              現在のアドレス空間
        &lt;物理アドレス&gt;@0        物理アドレス空間
        &lt;論理アドレス&gt;@1        ユーザデータ空間
        &lt;論理アドレス&gt;@2        ユーザコード空間
        &lt;論理アドレス&gt;@5        スーパーバイザデータ空間
        &lt;論理アドレス&gt;@6        スーパーバイザコード空間
-- more -- [y/n] y
演算子
        &lt;汎用レジスタ&gt;.&lt;サイズ&gt; 汎用レジスタアクセス
        [&lt;アドレス&gt;].&lt;サイズ&gt;   メモリアクセス
        x.&lt;サイズ&gt;              キャスト
        x(y)                    関数呼び出し
        x++ ++x x-- --x         インクリメント, デクリメント
        +x -x ~x !x             符号, ビットNOT, 論理NOT
        x**y x*y x/y x%y        累乗, 乗除算
        x+y x-y                 加減算, 連結
        x&lt;&lt;y x&gt;&gt;y x&gt;&gt;&gt;y         シフト
        x&lt;y x&lt;=y x&gt;y x&gt;=y       比較
        x==y x!=y               等価
        x&amp;y x^y x|y x&amp;&amp;y x||y   ビットAND, XOR, OR, 論理AND, OR
        x?y:z                   条件
        x=y x**=y x*=y x/=y x%=y x+=y x-=y
        x&lt;&lt;=y x&gt;&gt;=y x&gt;&gt;&gt;=y x&amp;=y x^=y x|=y
                                代入, 複合代入
        x,y                     逐次評価
-- more -- [y/n] y
関数
        abs acos acosh acot acoth acsc acsch agi agm
        asc asec asech asin asinh atan atan2 atanh
        bin$ cbrt ceil chr$ cmp cmp0 cmp1 cmp1abs cmpabs
        cos cosh cot coth csc csch cub dec deg div2 div3 divpi divrz
        exp exp10 exp2 exp2m1 expm1 floor frac getexp getman
        hex$ ieeerem inc iseven isinf isint isnan isodd isone iszero
        lgamma log log10 log1p log2 max min mul2 mul3 mulpi
        oct$ pow quo rad random rcp rint rmode round rprec
        sec sech sgn sin sinh sqrt squ str$ tan tanh tgamma trunc ulp val
&gt; </pre><h2><a href="#disassemblelist" id="disassemblelist">10. <span class="en">Disassemble list</span> <span class="ja">逆アセンブルリスト</span></a></h2><p><span class="en">The disassembler used in the disassemble list and the <a href="feature.htm#branchlog">branch log</a> disassembles programs in instruction units. Some information are inserted at break positions such as immediately after unconditional branch instructions in disassemble lists. If the address is in the exception vector table, the type of the exception is displayed at the beginning of the exception handler. In loaded device drivers and executable files, the file name and the offset from the top of the program are displayed. You can easily compare them with assemble lists made by <a href="http://retropc.net/x68000/software/develop/as/has/" target="_blank">HAS.X</a> or <a href="http://retropc.net/x68000/software/develop/as/has060/" target="_blank">HAS060.X</a> and disassemble lists made by <a href="http://retropc.net/x68000/software/develop/dis/diseririn/" target="_blank">dis.x</a>. So you can anticipate where break points should be set.</span> <span class="ja">逆アセンブルリストや <a href="feature.htm#branchlog">分岐ログ</a> で使用されているのは普通の命令単位の逆アセンブラですが、無条件分岐命令の直後などの区切りの位置にいくつかの情報が表示されます。例外ベクタが指しているアドレスにはその例外の種類が、また、Human68k が読み込まれているときはデバイス名または実行ファイル名とその先頭からのオフセットが表示されます。<a href="http://retropc.net/x68000/software/develop/as/has/" target="_blank">HAS.X</a> や <a href="http://retropc.net/x68000/software/develop/as/has060/" target="_blank">HAS060.X</a> で -p を指定して作成したアセンブルリストや <a href="http://retropc.net/x68000/software/develop/dis/diseririn/" target="_blank">dis.x</a> で作成した逆アセンブルリストと容易に照合できるので、デバッグしたい場所に先回りしてブレークポイントを仕掛けるといった作業がやりやすいと思います。</span></p><p><span class="en"> <a href="feature.htm#corecontrolbuttons">Core control buttons</a> are located. </span><span class="ja"> <a href="feature.htm#corecontrolbuttons">コア制御ボタン</a>が配置されています。 </span></p><!--E--><h2><a href="#edgeacceleration" id="edgeacceleration">11. <span class="en">Edge acceleration</span> <span class="ja">縁部加速</span></a></h2><p><span class="en">In the <a href="#seamlessmouse">seamless mouse mode</a>, mouse data that shows mouse cursor moves outwardly of the screen is generated when mouse cursor is in the edge of the screen. In the real screen mode of SX-WINDOW, you can scroll the screen by pressing mouse cursor against the edge of the screen.</span> <span class="ja"><a href="#seamlessmouse">シームレスマウスモード</a> でマウスカーソルが画面の端にあるとき、マウスカーソルが画面の外方向に動いているように見えるデータを作ります。SX-WINDOW の実画面モードでマウスカーソルを画面の端に押し付けて画面をスクロールさせることができます。</span></p><h2><a href="#exclusivemouse" id="exclusivemouse">12. <span class="en">Exclusive mouse mode</span> <span class="ja">エクスクルーシブマウスモード</span></a></h2><p><span class="en">The exclusive mouse mode is the mode that XEiJ monopolizes the mouse cursor of the host machine. It is sometimes called simply a mouse mode in other X68000 emulators. You can operate software that uses its own mouse driver that does not depend on IOCS. But there is an inconvenience that you have to change the mouse mode every time you operate other software of the host machine because the mouse cursor of the host machine is occupied.</span> <span class="ja">エクスクルーシブマウスモードは XEiJ がホストマシンのマウスカーソルを占有するモードです。他の X68000 エミュレータでは単にマウスモードと呼ばれることがあります。IOCS に依存しない独自のマウスドライバを使用するソフトウェアも操作できますが、ホストマシンのマウスカーソルを占有してしまうので、ホストマシンの他のアプリケーションを操作する度にマウスモードを切り替えなければならないという不便さがあります。</span></p><p><span class="en"> When in <a href="#seamlessmouse">seamless mouse mode</a>, clicking the wheel (or right-clicking while holding down the Alt key on a two-button mouse) or pressing the F12 key will switch to exclusive mouse mode. </span> <span class="ja"> <a href="#seamlessmouse">シームレスマウスモード</a> のとき、ホイールをクリックする (2 ボタンマウスのときは Alt キーを押しながら右クリックする) か F12 キーを押すとエクスクルーシブマウスモードに切り替わります。 </span></p><h2><a href="#extendedgraphic" id="extendedgraphic">13. <span class="en"> Extended graphic screen </span><span class="ja"> 拡張グラフィック画面 </span></a></h2><p><span class="en"> Extended graphic screens are graphic screens that consist of 1024×1024 dots real screen and 256 or 65536 colors. They are not available on real machines. </span><span class="ja"> 拡張グラフィック画面は実画面サイズが 1024×1024 ドットで色数が 256 色または 65536 色のグラフィック画面です。実機では使えません。 </span></p><table><thead><tr><th><span class="en">memory mode</span> <span class="ja">メモリモード</span></th><th><span class="en">real screen size</span> <span class="ja">実画面サイズ</span></th><th><span class="en">number of colors</span> <span class="ja">色数</span></th><th><span class="en">number of pages</span> <span class="ja">ページ数</span></th><th><span class="en">GVRAM size</span> <span class="ja">GVRAM サイズ</span></th></tr></thead><tbody><tr><th>0</th><td rowspan="3">512×512</td><td>16</td><td>4</td><td rowspan="4">512KB</td></tr><tr><th>1</th><td>256</td><td>2</td></tr><tr><th>3</th><td>65536</td><td rowspan="4">1</td></tr><tr><th>4</th><td rowspan="3">1024×1024</td><td>16</td></tr><tr><th>5</th><td>256</td><td>1MB</td></tr><tr><th>7</th><td>65536</td><td>2MB</td></tr></tbody></table><p><span class="en"> IOCS _G_GLR_ON does not work as expected in memory mode 5,7. </span><span class="ja"> IOCS _G_GLR_ON はメモリモード 5,7 では期待通りに動作しません。 </span></p><p><span class="en"> Tools for utilizing the extended graphic screen are available on tantan&#39;s website. </span><span class="ja"> tantan さんのサイトで拡張グラフィック画面を活用するツールが公開されています。 </span></p><ul><li><a href="https://github.com/tantanGH" target="_blank">tantanGH &#183; GitHub</a></li></ul><!--F--><h2><a href="#fc2pin" id="fc2pin">14. <span class="en">FC2 pin</span> <span class="ja">FC2 ピン</span></a></h2><p><span class="en">In 060turbo mode, you can cut FC2 pin. The whole physical address space becomes accessible in user mode and X Window System runs on NetBSD/x68k.</span> <span class="ja">060turbo モードのとき FC2 ピンをカットできます。物理空間全体がユーザモードでアクセスできるようになり、NetBSD/x68k で X Window System が動きます。</span></p><h2><a href="#fefunction" id="fefunction">15. <span class="en">FE function instructions</span> <span class="ja">FE ファンクション命令</span></a></h2><p><span class="en">FE function calls are service calls to perform floating point arithmetic and number-string conversion in environment of Human68k. They are registered to the system by FLOAT2.X, FLOAT3.X or FLOAT4.X and called via F-line exception by placing undefined instruction code $FExx like $FFxx of DOS call. They are usually used in programs written in X-BASIC and C language.</span> <span class="ja">FE ファンクションコールは Human68k の環境で浮動小数点演算や数値と文字列の変換を行うサービスコールです。通常は FLOAT2.X、FLOAT3.X、FLOAT4.X のいずれかを用いてシステムに登録し、DOS コールの $FFxx と同様に $FExx という形の未実装命令コードを配置することで F ライン例外を経由して呼び出します。X-BASIC や C 言語で書かれたプログラムで使われています。</span></p><p><span class="en">MPU of XEiJ can handle opcodes of the form $FExx as not &#34;unimplemented instructions that generate F-line exceptions&#34; but &#34;FE function instructions that perform floating point arithmetic&#34;. This feature eliminates exception processing time of FE function calls. Moreover, floating point arithmetic is performed fast by Java operators and APIs. X-BASIC and other software that use a lot of floating point arithmetic run faster.</span> <span class="ja">XEiJ の MPU は $FExx という命令コードを「F ライン例外を発生させる未実装命令」ではなく「浮動小数点演算を行う実装済みの FE ファンクション命令」として処理することができます。FE ファンクションコールで発生する例外処理のオーバーヘッドがなくなり、浮動小数点演算も Java の演算子や API を用いて計算するので高速です。X-BASIC や浮動小数点演算を多用するソフトウェアの動作が軽くなます。</span></p><p><span class="en">FE function calls not implemented in genuine FLOATn.X and __FEVECS which is an FE function call to replace processing routines of FE function calls generate F-line exceptions as usual. You can assign new FE function calls to unused unimplemented instruction codes by using FLOATn.X together but you can not change FE function instructions already implemented by using __FEVECS.</span> <span class="ja">純正の FLOATn.X に実装されていない FE ファンクションコールおよび FE ファンクションコールの処理ルーチンを変更する __FEVECS を呼び出したときは従来通り F ライン例外が発生します。FLOATn.X を併用することで、空いている未実装命令コードに FE ファンクションコールを追加することはできますが、実装済みの FE ファンクション命令の処理を __FEVECS で差し替えることはできません。</span></p><h3><a href="#fefunction_sample" id="fefunction_sample">15.1. <span class="en">Example: Integrate atan(x) from 0 to 1 by rectangle method in X-BASIC</span> <span class="ja">例 : X-BASIC で atan(x) を 0 から 1 まで長方形近似で数値積分する</span></a></h3><pre><kbd>list</kbd>
   10 int n=100000,k,t
   20 float a=0#,b=1#,d,s
   30 t=time():d=(b-a)/n:a=a-d*0.5#:s=0#:for k=1 to n:s=s+atan(a+d*k):next:s=d*s:t=time()-t
   40 print s,t;&#34;sec&#34;
   50 end
   60 func time()
   70   str c$,d$,s$,t$
   80   int y,m,d
   90   d$=date$:t$=time$
  100   repeat
  110     c$=d$:s$=t$
  120     d$=date$:t$=time$
  130   until c$=d$ and s$=t$
  140   y=((atoi(left$(d$,2))+50) mod 100)+1950:m=atoi(mid$(d$,4,2)):d=atoi(right$(d$,2))
  150   if m&lt;3 then { y=y-1:m=m+12 }
  160   c=floor(365.25#*y)+floor(30.59#*(m-2))+d-719501
  170   if -141417&lt;=c then c=c+floor(y/400)-floor(y/100)+2
  180   return(c*86400+(atoi(left$(t$,2))-9)*3600+atoi(mid$(t$,4,2))*60+atoi(right$(t$,2)))
  190 endfunc
  200 func floor(x;float)
  210   int y
  220   y=fix(x):if x&lt;y then y=y-1
  230   return(y)
  240 endfunc
Ok</pre><h4><span class="en">X68000 Hybrid, load factor 50% (about 200MHz), FE function instructions OFF (FLOAT2.X)</span> <span class="ja">X68000 Hybrid、負荷率 50% (約 200MHz)、FE ファンクション命令 OFF (FLOAT2.X) で実行したとき</span></h4><pre><kbd>run</kbd>
 0.43882457311956        18 sec
Ok</pre><h4><span class="en">X68000 Hybrid, load factor 50% (about 200MHz), FE function instructions ON</span> <span class="ja">X68000 Hybrid、負荷率 50% (約 200MHz)、FE ファンクション命令 ON で実行したとき</span></h4><pre><kbd>run</kbd>
 0.43882457311956        12 sec
Ok</pre><p>π /4-log(2)/2 = 0.4388245731174756549…</p><h2><a href="#fixedfrequencymode" id="fixedfrequencymode">16. <span class="en">Fixed frequency mode</span> <span class="ja">周波数固定モード</span></a></h2><p><span class="en">You can set operating frequency of MPU from 1MHz to 1000MHz in units of 1MHz. Maximum load factor is 90 percent if the sound output is enabled.</span> <span class="ja">MPU の動作周波数を 1MHz から 1MHz 刻みで 1000MHz まで設定できます。音声出力が ON のときは負荷率 80%、音声出力が OFF のときは負荷率 100% を上限としてそれ以上動作周波数が上がらないようになっています。</span></p><h2><a href="#fixedloadfactormode" id="fixedloadfactormode">17. <span class="en">Fixed load factor mode</span> <span class="ja">負荷率固定モード</span></a></h2><p><span class="en">In the fixed load factor mode, operating frequency of MPU is automatically controlled to keep the load factor. You can set the load factor from 1% to 100% in units of 1%.</span> <span class="ja">MPU の動作周波数を自動的に変化させて負荷率を一定に保ちます。負荷率を 1% から 1% 刻みで 100% まで設定できます。</span></p><h2><a href="#controlpipe" id="controlpipe">18. <span class="en">Control pipe</span><span class="ja">制御パイプ</span></a></h2><p><span class="en"> When in Windows, the named pipe &#34;\\.\pipe\XEiJControl&amp;#34, you can send control commands, such as pressing an interrupt switch, from other processes via this pipe. Place the supplied xeijwin.dll in the current directory or in a directory that is in your path. Activating the <a href="feature.htm#pastepipe">paste pipe</a> via the <a href="menu.htm#input">paste settings menu</a> or the <a href="parameter.htm#pastepipe">parameter pastepipe</a> also activates the control pipe. </span><span class="ja"> Windows のとき、名前付きパイプ「\\.\pipe\XEiJControl」を介して他のプロセスからインタラプトスイッチを押すなどの制御コマンドを送信できます。 付属の xeijwin.dll をカレントディレクトリまたはパスの通っているディレクトリに置いてください。 <a href="menu.htm#pastesettings">貼り付け設定メニュー</a>または<a href="parameter.htm#pastepipe">パラメータ pastepipe</a>で<a href="feature.htm#pastepipe">貼り付けパイプ</a>を有効にすると制御パイプも有効になります。 </span></p><pre>echo typekey clr &gt; \\.\pipe\XEiJControl</pre><table><caption><span class="en">control command</span><span class="ja">制御コマンド</span></caption><tbody><tr><th><span class="en">control command</span><span class="ja">制御コマンド</span></th><td><span class="en">function</span><span class="ja">機能</span></td></tr><tr><td>interrupt</td><td><span class="en">press the interrupt switch</span><span class="ja">インタラプトスイッチを押す</span></td></tr><tr><td>presskey keyname ...</td><td><span class="en">press keys</span><span class="ja">キーを押す</span></td></tr><tr><td>releasekey keyname ...</td><td><span class="en">release keys</span><span class="ja">キーを離す</span></td></tr><tr><td>reset</td><td><span class="en">press the reset switch</span><span class="ja">リセットスイッチを押す</span></td></tr><tr><td>typekey keyname ...</td><td><span class="en">type keys</span><span class="ja">キーを押して離す</span></td></tr></tbody></table><table><caption><span class="en">key name</span><span class="ja">キーの名前</span></caption><tbody><tr><th><span class="en">key name</span><span class="ja">キーの名前</span></th><td><span class="en">scan code</span><span class="ja">スキャンコード</span></td><td><span class="en">note</span><span class="ja">備考</span></td></tr><tr><td>ESC</td><td>1</td><td></td></tr><tr><td>1</td><td>2</td><td></td></tr><tr><td>2</td><td>3</td><td></td></tr><tr><td>3</td><td>4</td><td></td></tr><tr><td>4</td><td>5</td><td></td></tr><tr><td>5</td><td>6</td><td></td></tr><tr><td>6</td><td>7</td><td></td></tr><tr><td>7</td><td>8</td><td></td></tr><tr><td>8</td><td>9</td><td></td></tr><tr><td>9</td><td>10</td><td></td></tr><tr><td>0</td><td>11</td><td></td></tr><tr><td>MINUS</td><td>12</td><td>-</td></tr><tr><td>CARET</td><td>13</td><td style="vertical-align:top"></td></tr><tr><td>YEN</td><td>14</td><td>\</td></tr><tr><td>BS</td><td>15</td><td></td></tr><tr><td>TAB</td><td>16</td><td></td></tr><tr><td>Q</td><td>17</td><td></td></tr><tr><td>W</td><td>18</td><td></td></tr><tr><td>E</td><td>19</td><td></td></tr><tr><td>R</td><td>20</td><td></td></tr><tr><td>T</td><td>21</td><td></td></tr><tr><td>Y</td><td>22</td><td></td></tr><tr><td>U</td><td>23</td><td></td></tr><tr><td>I</td><td>24</td><td></td></tr><tr><td>O</td><td>25</td><td></td></tr><tr><td>P</td><td>26</td><td></td></tr><tr><td>AT</td><td>27</td><td>@</td></tr><tr><td>LEFTBRACKET</td><td>28</td><td>[</td></tr><tr><td>RETURN</td><td>29</td><td></td></tr><tr><td>A</td><td>30</td><td></td></tr><tr><td>S</td><td>31</td><td></td></tr><tr><td>D</td><td>32</td><td></td></tr><tr><td>F</td><td>33</td><td></td></tr><tr><td>G</td><td>34</td><td></td></tr><tr><td>H</td><td>35</td><td></td></tr><tr><td>J</td><td>36</td><td></td></tr><tr><td>K</td><td>37</td><td></td></tr><tr><td>L</td><td>38</td><td></td></tr><tr><td>SEMICOLON</td><td>39</td><td style="border-left-style:solid"></td></tr><tr><td>COLON</td><td>40</td><td>:</td></tr><tr><td>RIGHTBRACKET</td><td>41</td><td>]</td></tr><tr><td>Z</td><td>42</td><td></td></tr><tr><td>X</td><td>43</td><td></td></tr><tr><td>C</td><td>44</td><td></td></tr><tr><td>V</td><td>45</td><td></td></tr><tr><td>B</td><td>46</td><td></td></tr><tr><td>N</td><td>47</td><td></td></tr><tr><td>M</td><td>48</td><td></td></tr><tr><td>COMMA</td><td>49</td><td>,</td></tr><tr><td>PERIOD</td><td>50</td><td></td></tr><tr><td>SLASH</td><td>51</td><th></th></tr><tr><td>UNDERLINE</td><td>52</td><td style="vertical-align:bottom"></td></tr><tr><td>SPACE</td><td>53</td><td></td></tr><tr><td>HOME</td><td>54</td><td></td></tr><tr><td>DEL</td><td>55</td><td></td></tr><tr><td>ROLLUP</td><td>56</td><td></td></tr><tr><td>ROLLDOWN</td><td>57</td><td></td></tr><tr><td>UNDO</td><td>58</td><td></td></tr><tr><td>LEFT</td><td>59</td><td>←</td></tr><tr><td>UP</td><td>60</td><td>↑</td></tr><tr><td>RIGHT</td><td>61</td><td>→</td></tr><tr><td>DOWN</td><td>62</td><td>↓</td></tr><tr><td>CLR</td><td>63</td><td></td></tr><tr><td>TENKEYSLASH</td><td>64</td><td>テンキー /</td></tr><tr><td>TENKEYASTERISK</td><td>65</td><td>テンキー *</td></tr><tr><td>TENKEYMINUS</td><td>66</td><td>テンキー -</td></tr><tr><td>TENKEY7</td><td>67</td><td></td></tr><tr><td>TENKEY8</td><td>68</td><td></td></tr><tr><td>TENKEY9</td><td>69</td><td></td></tr><tr><td>TENKEYPLUS</td><td>70</td><td>テンキー +</td></tr><tr><td>TENKEY4</td><td>71</td><td></td></tr><tr><td>TENKEY5</td><td>72</td><td></td></tr><tr><td>TENKEY6</td><td>73</td><td></td></tr><tr><td>TENKEYEQUAL</td><td>74</td><td>テンキー =</td></tr><tr><td>TENKEY1</td><td>75</td><td></td></tr><tr><td>TENKEY2</td><td>76</td><td></td></tr><tr><td>TENKEY3</td><td>77</td><td></td></tr><tr><td>ENTER</td><td>78</td><td></td></tr><tr><td>TENKEY0</td><td>79</td><td></td></tr><tr><td>TENKEYCOMMA</td><td>80</td><td>テンキー ,</td></tr><tr><td>TENKEYPERIOD</td><td>81</td><td>テンキー .</td></tr><tr><td>KIGOU</td><td>82</td><td>記号入力</td></tr><tr><td>TOUROKU</td><td>83</td><td>登録</td></tr><tr><td>HELP</td><td>84</td><td></td></tr><tr><td>XF1</td><td>85</td><td></td></tr><tr><td>XF2</td><td>86</td><td></td></tr><tr><td>XF3</td><td>87</td><td></td></tr><tr><td>XF4</td><td>88</td><td></td></tr><tr><td>XF5</td><td>89</td><td></td></tr><tr><td>KANA</td><td>90</td><td>かな</td></tr><tr><td>ROMA</td><td>91</td><td>ローマ字</td></tr><tr><td>CODE</td><td>92</td><td>コード入力</td></tr><tr><td>CAPS</td><td>93</td><td></td></tr><tr><td>INS</td><td>94</td><td></td></tr><tr><td>HIRAGANA</td><td>95</td><td>ひらがな</td></tr><tr><td>ZENKAKU</td><td>96</td><td>全角</td></tr><tr><td>BREAK</td><td>97</td><td></td></tr><tr><td>COPY</td><td>98</td><td></td></tr><tr><td>F1</td><td>99</td><td></td></tr><tr><td>F2</td><td>100</td><td></td></tr><tr><td>F3</td><td>101</td><td></td></tr><tr><td>F4</td><td>102</td><td></td></tr><tr><td>F5</td><td>103</td><td></td></tr><tr><td>F6</td><td>104</td><td></td></tr><tr><td>F7</td><td>105</td><td></td></tr><tr><td>F8</td><td>106</td><td></td></tr><tr><td>F9</td><td>107</td><td></td></tr><tr><td>F10</td><td>108</td><td></td></tr><tr><td>SHIFT</td><td>112</td><td></td></tr><tr><td>CTRL</td><td>113</td><td></td></tr><tr><td>OPT1</td><td>114</td><td>OPT.1</td></tr><tr><td>OPT2</td><td>115</td><td>OPT.2</td></tr><tr><td>NUM</td><td>116</td><td></td></tr></tbody></table><h2><a href="#coproboard" id="coproboard">19. <span class="en">Floating point coprocessor board</span> <span class="ja">浮動小数点プロセッサボード</span></a></h2><p><span class="en">XEiJ is equipped with two floating point coprocessor boards (CZ-6BP1), which is commonly called copro board. Their coprocessors are compatible with MC68881 at instruction level. FLOAT3.X is available. Programs that were compiled by <a href="http://retropc.net/x68000/software/develop/c/gcc_mariko/" target="_blank">GCC (Mariko version)</a> or <a href="http://retropc.net/x68000/software/develop/c/gcc2/" target="_blank">GCC2</a> and linked with <a href="http://retropc.net/x68000/software/develop/lib/libc1132a/" target="_blank">libc</a> bypass FLOAT3.X and access the coprocessor directly.</span> <span class="ja">浮動小数点プロセッサボード CZ-6BP1 (通称、コプロボード) を 2 枚挿してあります。FPCP は MC68881 と命令互換のコプロセッサです。FLOAT3.X を利用できます。<a href="http://retropc.net/x68000/software/develop/c/gcc_mariko/" target="_blank">GCC（真里子版）</a> または <a href="http://retropc.net/x68000/software/develop/c/gcc2/" target="_blank">GCC2</a> でコンパイルして <a href="http://retropc.net/x68000/software/develop/lib/libc1132a/" target="_blank">libc</a> をリンクしたプログラムは FLOAT3.X を経由せずコプロセッサを直接操作します。</span></p><h2><a href="#floatnxrejection" id="floatnxrejection">20. <span class="en">FLOATn.X rejection</span> <span class="ja">FLOATn.X の抑制</span></a></h2><p><span class="en">When the <a href="feature.htm#fefunction">FE function instructions</a> are enabled, to reduce overheads of DOS calls, unnecessary FLOATn.X is rejected even if FLOATn.X is written in CONFIG.SYS.</span> <span class="ja"><a href="feature.htm#fefunction">FE ファンクション命令</a> が有効なとき、DOS コールのオーバーヘッドを減らすために、CONFIG.SYS に 不要な FLOATn.X が書かれていても組み込まれないようにします。</span></p><h2><a href="#fullspecfpu" id="fullspecfpu">21. <span class="en">Full specification FPU</span> <span class="ja">フルスペック FPU</span></a></h2><p><span class="en">Full specification FPU can perform all floating point instructions of MC68882 and MC68060.</span> <span class="ja">フルスペック FPU は MC68882 と MC68060 のすべての浮動小数点命令を実行できます。</span></p><!--G--><h2><a href="#gifanimationrecording" id="gifanimationrecording">22. <span class="en"> GIF animation recording </span><span class="ja"> GIF アニメーション録画 </span></a></h2><p><span class="en"> The X68000 screen can be captured frame by frame and saved as a GIF animation. </span><span class="ja"> X68000 の画面をフレーム毎に取り込んで GIF アニメーションとして保存できます。 </span></p><p><span class="en"> GIF images can only use up to 256 colors, so screens with many colors cannot be saved well. </span><span class="ja"> GIF 画像では 256 色までしか使えないので色数が多い画面はうまく保存できません。 </span></p><h2><a href="#localmemory" id="localmemory">23. <span class="en"> High memory on 060turbo </span><span class="ja"> 060turbo のハイメモリ </span></a></h2><p><span class="en"> High memory starting at address $10000000 is available for 060turbo. High memory size is 0MB, 16MB, 32MB, 64MB, 128MB, 256MB, 384MB, 512MB, or 768MB. The contents of the high memory can be saved in a configuration file. These settings can be changed in the <a href="menu.htm#localmemory">high memory on 060turbo menu</a>, <a href="parameter.htm#localmemory">parameter localmemory</a> and <a href="parameter.htm#localmemorysave">parameter localmemorysave</a>. </span><span class="ja"> 060turbo でアドレス $10000000 から始まるハイメモリを使用できます。 ハイメモリの容量は 0MB、16MB、32MB、64MB、128MB、256MB、384MB、512MB、768MB のいずれかです。 ハイメモリの内容を設定ファイルに保存できます。 これらの設定は<a href="menu.htm#localmemory">060turbo のハイメモリメニュー</a>、<a href="parameter.htm#localmemory">パラメータ localmemory</a>および<a href="parameter.htm#localmemorysave">パラメータ localmemorysave</a>で変更できます。 </span></p><!--H--><h2><a href="#highmemory" id="highmemory">24. <span class="en"> High memory on X68030/Xellent30 </span><span class="ja"> X68030/Xellent30 のハイメモリ </span></a></h2><p><span class="en"> High memory equivalent to TS-6BE16 starting at address $01000000 is available for X68030 and Xellent30. High memory size is 0MB or 16MB. The contents of the high memory can be saved in a configuration file. Large amount of high memory starting from address $10000000 can also be used with the X68030 and Xellent30. These settings can be changed in the <a href="menu.htm#highmemory">high memory on X68030/Xellent30 menu</a>, <a href="parameter.htm#highmemory">parameter highmemory</a>, <a href="parameter.htm#highmemorysave">parameter highmemorysave</a> and <a href="parameter.htm#highmemory060turbo">parameter highmemory060turbo</a>. </span><span class="ja"> X68030 と Xellent30 でアドレス $01000000 から始まる TS-6BE16 相当のハイメモリを使用できます。 ハイメモリの容量は 0MB、16MB のいずれかです。 ハイメモリの内容を設定ファイルに保存できます。X68030 と Xellent30 でアドレス $10000000 から始まる大容量のハイメモリを使うこともできます。 これらの設定は<a href="menu.htm#highmemory">X68030/Xellent30 のハイメモリメニュー</a>、<a href="parameter.htm#highmemory">パラメータ highmemory</a>、<a href="parameter.htm#highmemorysave">パラメータ highmemorysave</a>および<a href="parameter.htm#highmemory060turbo">パラメータ highmemory060turbo</a>で変更できます。 </span></p><h2><a href="#hostfilesystem" id="hostfilesystem">25. <span class="en">Host file system</span> <span class="ja">ホストファイルシステム</span></a></h2><p><span class="en">XEiJ has a virtual expansion board to boot from a remote device and can treat any directory of the host machine as a boot drive of Human68k. Image files of floppy disks and hard disks have a weak point that it is generally troublesome to manipulate its data from the host machine. However, you do not have to make image files to configure a Human68k environment on XEiJ because all files including files required in the starting sequence such as CONFIG.SYS, device driver and so on are searched in directories of the host machine. You will start to think that making a Human68k environment in image files is very tiresome after getting used to X68000 that has been released from miniature gardens of image files.</span> <span class="ja">XEiJ はリモートデバイスから ROM 起動するための仮想拡張ボードを搭載しており、ホストマシンの任意のディレクトリを Human68k の起動ドライブにすることができます。CONFIG.SYS やデバイスドライバなどの起動シーケンスに必要なファイルがすべてホストマシンのディレクトリで検索されるので、Human68k の環境を構築するためにホストマシン側から内容を操作しにくいフロッピーディスクやハードディスクのイメージファイルを作る必要がありません。イメージファイルという箱庭から開放された X68000 に慣れると、イメージファイルの中に Human68k の環境を構築するのがとても面倒なことに思えてきます。</span></p><p><span class="en"> To boot from a floppy disk or hard disk image file and access the host file system, write the following in config.sys. </span><span class="ja"> フロッピーディスクやハードディスクのイメージファイルから起動してホストファイルシステムにアクセスするには config.sys に以下のように書きます。 </span></p><pre>device=[rom$00e9f020]</pre><!--I--><h2><a href="#iplrom16" id="iplrom16">26. IPLROM 1.6</a></h2><p><span class="en"> See <a href="iplrom16.htm">About IPLROM 1.6</a>. </span> <span class="ja"> <a href="iplrom16.htm">IPLROM 1.6 について</a> を参照。 </span></p><!--J--><h2><a href="#javalanguage" id="javalanguage">27. <span class="en"> Java language </span><span class="ja"> Java 言語 </span></a></h2><p><span class="en"> XEiJ is written in the Java language. It will run on any operating system if the OpenJDK has been installed. </span><span class="ja"> XEiJ は Java 言語で記述されています。 最新の OpenJDK がインストールされていれば OS に関係なく動作します。 </span></p><p><span class="en"> The Java applet mode to run XEiJ on web browsers and the JNLP mode to run XEiJ via the Java Web Start had been removed. </span><span class="ja"> ウェブブラウザ上で XEiJ を起動する Java アプレットモードおよび Java Web Start を介して XEiJ を起動する JNLP モードは廃止されました。 </span></p><!--K--><h2><a href="#keyassignments" id="keyassignments">28. <span class="en"> Key assignments window </span><span class="ja"> キー割り当てウインドウ </span></a></h2><p><span class="smallimg"><img alt="keyassignments.png" src="keyassignments.png"></span></p><p><span class="en"> The Key assignments window allows you to set the correspondence between the keys on the X68000 and the keys on the host machine. </span><span class="ja"> キー割り当てウインドウで X68000 のキーとホストマシンのキーの対応を設定できます。 </span></p><h3><a href="#keyassignments_inputarea" id="keyassignments_inputarea">28.1. <span class="en"> Input area </span><span class="ja"> 入力エリア </span></a></h3><p><span class="en"> The Key assignments window has input areas arranged in the shape of a standard X68000 keyboard. Click on the input area of the X68000 key you want to assign, and then press the key on the host machine you want to assign. </span><span class="ja"> キー割り当てウインドウには入力エリアが X68000 の標準キーボードの形に並んでいます。 割り当てたい X68000 のキーの入力エリアをクリックしてから、割り当てたいホストマシンのキーを押してください。 </span></p><p><span class="en"> You can assign up to three keys of the host machine&#39;s key to one key on the X68000. Pressing an unassigned key will add a key. Pressing the fourth key will unassign the first key and reduce the number of keys to three. Pressing a key that has already been assigned to a key will unlock the other key and reduce the number of keys to one. </span><span class="ja"> X68000 の 1 個のキーにホストマシンのキーのキーを 3 個まで割り当てられます。 割り当てられていないキーを押すとキーが追加されます。4 個目を押すと 1 個目が解除されて 3 個になります。 既に割り当てられているキーを押すと他のキーが解除されて 1 個になります。 </span></p><p><span class="en"> Pressing the Esc key on the host machine other than the ESC key on the X68000 will cancel all assignments for that key and set it to 0. It is not possible to assign the Esc key to any key other than the ESC key. Also, the ESC key cannot be unassigned. </span><span class="ja"> X68000 の ESC キー以外でホストマシンの Esc キーを押すとそのキーの割り当てがすべて解除されて 0 個になります。ESC キー以外に Esc キーを割り当てることはできません。 また、ESC キーの割り当てを解除することはできません。 </span></p><p><span class="en"> Pressing the Tab key on the host machine other than the TAB key on the X68000 will shift the focus to the next key. The Tab key cannot be assigned to any key other than the TAB key. </span><span class="ja"> X68000 の TAB キー以外でホストマシンの Tab キーを押すとフォーカスが次のキーに移ります。TAB キー以外に Tab キーを割り当てることはできません。 </span></p><h3><a href="#keyassignments_blank" id="keyassignments_blank">28.2. <span class="en"> Blank button </span><span class="ja"> 白紙ボタン </span></a></h3><p><span class="en"> Unassigns all keys. </span><span class="ja"> すべてのキーの割り当てを解除します。 </span></p><h3><a href="#keyassignments_uslayout" id="keyassignments_uslayout">28.3. <span class="en"> US layout checkbox </span><span class="ja"> 英語配列チェックボックス </span></a></h3><p><span class="en"> Selects whether or not to use the US layout when resetting to the initial value with the Default button. </span><span class="ja"> 初期値ボタンで初期値に戻すとき英語配列にするかどうか選択します。 </span></p><h3><a href="#keyassignments_default" id="keyassignments_default">28.4. <span class="en"> Default button </span><span class="ja"> 初期値ボタン </span></a></h3><p><span class="en"> Resets all key assignments to their default values. The default values are different for Windows, macOS, and Linux. </span><span class="ja"> すべてのキーの割り当てを初期値に戻します。Windows と macOS と Linux で初期値が異なります。 </span></p><h3><a href="#keyassignments_save" id="keyassignments_save">28.5. <span class="en"> Save button </span><span class="ja"> 保存ボタン </span></a></h3><p><span class="en"> Saves key assignments to a file in CSV format. Since XEiJ saves key assignments in a configuration file, when you initialize XEiJ settings, the key assignments are also initialized together. By saving key assignments to a file, you can restore key assignments after initializing XEiJ settings. </span><span class="ja"> キー割り当てを CSV 形式でファイルに保存します。XEiJ ではキー割り当てを設定ファイルに保存しているので、XEiJ の設定を初期化するとキー割り当ても一緒に初期化されてしまいます。 キー割り当てをファイルに保存しておくことで、XEiJ の設定を初期化した後にキー割り当てを復元できます。 </span></p><h3><a href="#keyassignments_restore" id="keyassignments_restore">28.6. <span class="en"> Restore button </span><span class="ja"> 復元ボタン </span></a></h3><p><span class="en"> Restores key assignments saved in a file in CSV format. </span><span class="ja"> CSV 形式でファイルに保存されたキー割り当てを復元します。 </span></p><h3><a href="#keyassignments_undo" id="keyassignments_undo">28.7. <span class="en"> Undo button </span><span class="ja"> 取り消しボタン </span></a></h3><p><span class="en"> Undo changes to key assignments. If a key assigned to another key is pressed by mistake when changing a key assignment, the two keys will be in the wrong state, but they can be undone together. Operations of the blank button, initial value button, and restore button can also be undone. You can undo up to 1000 previous changes until you exit XEiJ. To undo a key assignment change after exiting XEiJ, extract the keymap= line from the XEiJ.ini.bak file, write it to a file named keymap.txt, and restore it. </span><span class="ja"> キー割り当ての変更を取り消します。 キー割り当てを変更するとき他のキーに割り当てられているキーを間違って押してしまうと、2 つのキーが間違った状態になってしまいますが、まとめて取り消せます。 白紙ボタン、初期値ボタン、復元ボタンの操作も取り消せます。XEiJ を終了するまで、1000 回前の変更まで取り消せます。XEiJ を終了した後にキー割り当ての変更を取り消すには、XEiJ.ini.bak ファイルから keymap= の行を取り出して keymap.txt というファイルに書き込み、それを復元してください。 </span></p><h3><a href="#keyassignments_redo" id="keyassignments_redo">28.8. <span class="en"> Redo Button </span><span class="ja"> やり直しボタン </span></a></h3><p><span class="en"> Redo the undone operation. </span><span class="ja"> 取り消した操作をやり直します。 </span></p><h3><a href="#keyassignments_f11f12" id="keyassignments_f11f12">28.9. <span class="en"> F11 and F12 keys </span><span class="ja"> F11 キーと F12 キー </span></a></h3><p><span class="en"> The F11 and F12 keys can only be entered with the keys assigned in the <a href="feature.htm#keyassignments">key assignments window</a> when the no function is selected in the <a href="feature.htm#buttonfunctionassignments">F11/F12 and button function assignments window</a>. </span><span class="ja"> F11 キーと F12 キーは<a href="feature.htm#buttonfunctionassignments">F11/F12 およびボタン機能割り当てウインドウ</a>で機能なしを選択したときだけ<a href="feature.htm#keyassignments">キー割り当てウインドウ</a>で割り当てたキーを入力できます。 </span></p><!--L--><h2><a href="#logicalspacemonitor" id="logicalspacemonitor">29. <span class="en">Logical space monitor</span> <span class="ja">論理空間モニタ</span></a></h2><p><span class="en">Logical space monitor shows physical address assigned to logical address.</span> <span class="ja">論理アドレスに割り当てられている物理アドレスを表示します。</span></p><!--M--><h2><a href="#megadrive3buttonpad" id="megadrive3buttonpad">30. <span class="en">MEGA DRIVE 3 button pad</span> <span class="ja">メガドラ 3 ボタンパッド</span></a></h2><p><span class="en">You can connect MEGA DRIVE 3 button pads to joystick ports. Joystick driver that supports the Chelnov adapter is required to use them.</span> <span class="ja">ジョイスティックポートにメガドラ 3 ボタンパッドを接続できます。メガドラパッド変換アダプタに対応しているジョイスティックドライバが必要です。</span></p><p><span class="en">Settings of MEGA DRIVE 3 button pads are stored in the parameter <a href="parameter.htm#megadrive3buttonN">megadrive3buttonN</a>.</span> <span class="ja">メガドラ 3 ボタンパッドの設定はパラメータ <a href="parameter.htm#megadrive3buttonN">megadrive3buttonN</a> に保存されます。</span></p><h2><a href="#megadrive6buttonpad" id="megadrive6buttonpad">31. <span class="en">MEGA DRIVE 6 button pad</span> <span class="ja">メガドラ 6 ボタンパッド</span></a></h2><p><span class="en">You can connect MEGA DRIVE 6 button pads to joystick ports. Joystick driver that supports the Chelnov adapter is required to use them.</span> <span class="ja">ジョイスティックポートにメガドラ 6 ボタンパッドを接続できます。メガドラパッド変換アダプタに対応しているジョイスティックドライバが必要です。</span></p><p><span class="en">Settings of MEGA DRIVE 6 button pads are stored in the parameter <a href="parameter.htm#megadrive6buttonN">megadrive6buttonN</a>.</span> <span class="ja">メガドラ 6 ボタンパッドの設定はパラメータ <a href="parameter.htm#megadrive6buttonN">megadrive6buttonN</a> に保存されます。</span></p><h2><a href="#memorydumplist" id="memorydumplist">32. <span class="en">Memory dump list</span> <span class="ja">メモリダンプリスト</span></a></h2><p><span class="en">Contents of memory are shown.</span> <span class="ja">メモリの内容を表示します。</span></p><h2><a href="#model" id="model">33. <span class="en"> Model </span><span class="ja"> 機種 </span></a></h2><p><span class="en"> The MPU type and operating frequency, IPLROM version, built-in hard disk interface type, etc. are automatically set according to the model selected in the <a href="menu.htm#changethemodelandreset">change the model and reset menu</a> or <a href="parameter.htm#model">parameter model</a>. </span><span class="ja"> <a href="menu.htm#changethemodelandreset">機種を変更してリセットメニュー</a>または<a href="parameter.htm#model">パラメータ model</a>で選択された機種に応じて、MPU の種類と動作周波数、IPLROM のバージョン、内蔵ハードディスクインターフェイスの種類などが自動的に設定されます。 </span></p><h3><a href="#model_expert" id="model_expert">33.1. X68000 / X68000 ACE / X68000 EXPERT </a></h3><p><span class="en"> The MPU type is MC68000 and the operating frequency is 10 MHz. The IPLROM version is 1.0. Internal hard disk interface type is SASI. </span><span class="ja"> MPU の種類は MC68000、動作周波数は 10MHz です。IPLROM のバージョンは 1.0 です。 内蔵ハードディスクインターフェイスの種類は SASI です。 </span></p><h3><a href="#model_pro" id="model_pro">33.2. X68000 PRO </a></h3><p><span class="en"> PRO has one more DMAC wait cycle than EXPERT, so DMA transfers are slightly slower. </span><span class="ja"> PRO は EXPERT よりも DMAC のウェイトサイクルが 1 個多いので、DMA 転送が少し遅くなります。 </span></p><h3><a href="#model_super" id="model_super">33.3. X68000 SUPER </a></h3><p><span class="en"> The MPU type is MC68000 and the operating frequency is 10 MHz. The IPLROM version is 1.0. Internal hard disk interface type is SCSI. </span><span class="ja"> MPU の種類は MC68000、動作周波数は 10MHz です。IPLROM のバージョンは 1.0 です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span></p><h3><a href="#model_xvi" id="model_xvi">33.4. X68000 XVI </a></h3><p><span class="en"> The MPU type is MC68000 and the operating frequency is 16.7 MHz. The IPLROM version is 1.1. Internal hard disk interface type is SCSI. </span> <span class="ja"> MPU の種類は MC68000、動作周波数は 16.7MHz です。IPLROM のバージョンは 1.1 です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span></p><h3><a href="#model_xellent30" id="model_xellent30">33.5. Xellent30 </a></h3><p><span class="en"> Xellent30 on X68000 XVI. The MC68EC030 operates at twice the frequency of the MC68000. You can switch between MC68EC030 and MC68000 without resetting. </span><span class="ja"> X68000 XVI に Xellent30 を載せます。MC68EC030 は MC68000 の 2 倍の周波数で動作します。MC68EC030 と MC68000 をリセットせずに切り替えることができます。 </span></p><h3><a href="#model_compact" id="model_compact">33.6. X68000 Compact </a></h3><p><span class="en"> MPU の種類は MC68000、動作周波数は 16.7MHz です。IPLROM のバージョンは 1.2 です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span><span class="ja"> MPU の種類は MC68000、動作周波数は 16.7MHz です。IPLROM のバージョンは 1.2 です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span></p><h3><a href="#model_hybrid" id="model_hybrid">33.7. X68000 Hybrid </a></h3><p><span class="en"> The X68000 Hybrid is XEiJ&#39;s default model, a fictional X68000 Compact with an X68030 IPLROM. The MPU type is MC68000 and the operating frequency is 33.3 MHz. The version of IPLROM is <a href="feature.htm#iplrom16">IPLROM 1.6</a>. The type of internal hard disk interface is SCSI. </span><span class="ja"> X68000 Hybrid は XEiJ のデフォルトの機種で、X68000 Compact に X68030 の IPLROM を載せた架空の機種です。MPU の種類は MC68000、動作周波数は 33.3MHz です。IPLROM のバージョンは<a href="feature.htm#iplrom16">IPLROM 1.6</a>です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span></p><h3><a href="#model_x68030" id="model_x68030">33.8. X68030 / 030Compact </a></h3><p><span class="en"> The MPU type is MC68EC030 and the operating frequency is 25 MHz. The version of IPLROM is IPLROM 1.3. The type of internal hard disk interface is SCSI. </span><span class="ja"> MPU の種類は MC68EC030、動作周波数は 25MHz です。IPLROM のバージョンは 1.3 です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span></p><h3><a href="#model_060turbo" id="model_060turbo">33.9. 060turbo </a></h3><p><span class="en"> 060turbo on X68030. The MPU type is MC68060 and the operating frequency is 50 MHz. The version of IPLROM is <a href="feature.htm#iplrom16">IPLROM 1.6</a>. The type of internal hard disk interface is SCSI. </span><span class="ja"> X68030 に 060turbo を載せます。MPU の種類は MC68060、動作周波数は 50MHz です。IPLROM のバージョンは<a href="feature.htm#iplrom16">IPLROM 1.6</a>です。 内蔵ハードディスクインターフェイスの種類は SCSI です。 </span></p><h3><a href="#model_060turbopro" id="model_060turbopro">33.10. 060turboPRO </a></h3><p><span class="en"> 060turboPRO is a fictional model of X68000 PRO with 060turbo. The MPU type is MC68060 and the operating frequency is 50 MHz. The version of IPLROM is <a href="feature.htm#iplrom16">IPLROM 1.6</a>. The type of internal hard disk interface is SCSI. </span><span class="ja"> 060turboPRO は X68000 PRO に 060turbo を載せた架空の機種です。MPU の種類は MC68060、動作周波数は 50MHz です。IPLROM のバージョンは<a href="feature.htm#iplrom16">IPLROM 1.6</a>です。 内蔵ハードディスクインターフェイスの種類は SASI です。 </span></p><h2><a href="#motherboardcoprocessor" id="motherboardcoprocessor">34. <span class="en">Mother board coprocessor</span> <span class="ja">マザーボードコプロセッサ</span></a></h2><p><span class="en">From a comparative view point between the mother board and daughter board, I call MC68882 on mother board of X68030 a mother board coprocessor. Mother board coprocessor is used when MC68EC030 performs floating point instructions. MC68060 on daughter board can access mother board coprocessor via CPU space. Presence and type of mother board coprocessor are displayed in the starting messages in 060turbo mode.</span> <span class="ja">ドーターボードにある MC68060 から見てマザーボードにある MC68882 をマザーボードコプロセッサと呼んでいます。X68030 (実機) で MC68EC030 が浮動小数点命令を実行するときに使用するコプロセッサに、060turbo (実機) と同様に MC68060 からアクセスできます。起動メッセージなどでマザーボードコプロセッサの有無と種類が表示されます。</span></p><!--N--><h2><a href="#normal2buttonpad" id="normal2buttonpad">35. <span class="en">Normal 2 button pad</span> <span class="ja">ノーマル 2 ボタンパッド</span></a></h2><p><span class="en">You can connect normal 2 button pads to joystick ports. It is a normal joy pad. No special joystick driver is required to use them.</span> <span class="ja">ジョイスティックポートにノーマル 2 ボタンパッドを接続できます。普通のジョイパッドです。特別なジョイスティックドライバは不要です。</span></p><p><span class="en">Settings of normal 2 button pads are stored in the parameter <a href="parameter.htm#normal2buttonN">normal2buttonN</a>.</span> <span class="ja">ノーマル 2 ボタンパッドの設定はパラメータ <a href="parameter.htm#normal2buttonN">normal2buttonN</a> に保存されます。</span></p><h2><a href="#numberofsprites" id="numberofsprites">36. <span class="en">Number of sprites</span> <span class="ja">スプライトの枚数</span> </a></h2><p><span class="en">The <a href="feature.htm#numberofsprites">number of sprites</a> can be selected from 128, 256, 504, and 1016 in the <a href="menu.htm#modification">modification menu</a>. Changes will take effect after the reset. This setting is saved in the <a href="parameter.htm#numspr">parameter numspr</a>.</span> <span class="ja"><a href="menu.htm#modification">改造メニュー</a>で<a href="feature.htm#numberofsprites">スプライトの枚数</a>を 128、256、504、1016 から選べます。 変更はリセット後に反映されます。 この設定は<a href="parameter.htm#numspr">パラメータ numspr</a>に保存されます。</span></p><p><span class="en">There are 1024 sprites numbered from 0 to 1023, but 8 sprites numbered from 256 to 263 are missing. In terms of the sprite scroll register addresses, $00EB0000 to $00EB1FFF, of which $00EB0800 to $00EB083F are in the range of missing numbers. Since there are control registers in the missing range, be careful not to write to them as if they were sprite scroll registers.</span> <span class="ja">スプライトの番号は 0 番から 1023 番までの 1024 個ですが、256 番から 263 番までの 8 個は欠番です。 スプライトスクロールレジスタのアドレスで言うと、$00EB0000～$00EB1FFF のうち $00EB0800～$00EB083F が欠番の範囲です。 欠番の範囲には制御レジスタがあるので、スプライトスクロールレジスタのつもりで書き込まないように注意してください。</span></p><!--O--><h2><a href="#opmlog" id="opmlog">37. <span class="en">OPM log</span> <span class="ja">OPM ログ</span> </a></h2><p><span class="en"> Writes to YM2151 registers during operation can be recorded with the elapsed time in units of 1 μ s and the performance can be replayed. </span> <span class="ja"> 動作中の YM2151 のレジスタへの書き込みを 1 μ s 単位の経過時間とともに記録して演奏を再生できます。 </span></p><p><span class="en"> You can check the emulation of YM2151 and the operation of the sound source driver. </span> <span class="ja"> YM2151 のエミュレーションや音源ドライバの動作を確認できます。 </span></p><!--P--><h2><a href="#paste" id="paste">38. <span class="en">Paste</span><span class="ja">貼り付け</span></a></h2><p><span class="en"> Transfers the text on the host machine&#39;s clipboard to the input buffer of the X68000&#39;s CON device (ASK68K.SYS). </span><span class="ja"> ホストマシンのクリップボードにあるテキストを X68000 の CON デバイス (ASK68K.SYS) の入力バッファに転送します。 </span></p><h2><a href="#pastepipe" id="pastepipe">39. <span class="en">Paste pipe</span><span class="ja">貼り付けパイプ</span></a></h2><p><span class="en"> On Windows, you can paste text from other processes via the named pipe &#34;\\.\pipe\XEiJPaste&#34;. Put xeijwin.dll in the current directory or in a directory in your path. </span><span class="ja"> Windows のとき、名前付きパイプ「\\.\pipe\XEiJPaste」を介して他のプロセスからテキストを貼り付けられます。xeijwin.dll をカレントディレクトリまたはパスの通っているディレクトリに置いてください。 </span></p><pre>echo memfree &gt; \\.\pipe\XEiJPaste</pre><h2><a href="#pcminterpolation" id="pcminterpolation">40. <span class="en">PCM interpolation algorithm</span> <span class="ja">PCM 補間アルゴリズム</span></a></h2><p><span class="en">PCM interpolation algorithms for converting the ADPCM sampling frequency (3.9kHz-31.3kHz) to the internal sampling frequency (62.5kHz) are :</span> <span class="ja">ADPCM のサンプリング周波数 (3.9kHz-31.3kHz) を内部サンプリング周波数 (62.5kHz) に変換するための PCM 補間アルゴリズムは以下の通りです :</span></p><ul><li><span class="en">Piecewise-constant interpolation…Repeat the same value. This method is simple and fast but it increases noise because the waveform becomes stepwise.</span> <span class="ja">区分定数補間 … 同じ値を繰り返します。単純で高速ですが、波形が階段状になるのでノイズが増えます。</span></li><li><span class="en">Linear interpolation…Connect preceding data and succeeding data by a straight line and resample by output sampling frequency.</span> <span class="ja">線形補間 … 前後のデータを直線で結んでから出力サンプリング周波数で再サンプリングします。</span></li><li><span class="en">Hermite interpolation…Connect preceding data and succeeding data by a curved line by using four data and resample by output sampling frequency.</span> <span class="ja">エルミート補間 …4 つのデータを用いて 2 つのデータを曲線で結んでから出力サンプリング周波数で再サンプリングします。</span></li></ul><h2><a href="#physicalspacemonitor" id="physicalspacemonitor">41. <span class="en">Physical space monitor</span> <span class="ja">物理空間モニタ</span></a></h2><p><span class="en">Physical space monitor shows devices assigned to each physical address.</span> <span class="ja">物理アドレスに割り当てられているデバイスを表示します。</span></p><h2><a href="#printer" id="printer">42. <span class="en">Printer</span> <span class="ja">プリンタ</span></a></h2><p><span class="en">Data that you output to printer port are converted into image files by each page. Fonts of host machine are used. For example, you can print a text file by doing :</span> <span class="ja">プリンタポートに出力されたデータを 1 ページずつ画像に変換してイメージファイルに出力します。ホストマシンのフォントを使います。例えば、テキストファイルは以下のようにすれば“印刷”できます。</span></p><pre>B:\&gt;<kbd>type xxx.txt &gt; prn</kbd></pre><p><span class="en">You can get a hard copy of screen by COPY key. Control code of the printer is &#34;SHARP CZ 48-pin&#34;. Use PRNDRV.SYS (SHARP CZ 24-pin), which is the default printer driver, in Human68k environment. In case of SX-WINDOW, choose printer &#34;SHARP CZ 48-pin&#34; and color conversion system &#34;Error diffusion (Floyd Steinberg) method&#34; to get a fine color print.</span> <span class="ja">また、COPY キーで画面のハードコピーをとることができます。制御コードは「SHARP CZ 48 ピン」です。Human68k のプリンタドライバは標準の PRNDRV.SYS (SHARP CZ 24 ピン) を使います。SX-WINDOW ではプリンタを標準の「SHARP CZ 24 ピン」から「SHARP CZ 48 ピン」に変更してデフォルトの色変換方式を「誤差分散 (Floyd Steinberg) 方式」にすると綺麗に“カラー印刷”できます。</span></p><h2><a href="#flowvisualizer" id="flowvisualizer">43. <span class="en">Program flow visualizer</span> <span class="ja">プログラムフロービジュアライザ</span></a></h2><p><span class="smallimg"><img alt="flowvisualizer.png" src="flowvisualizer.png"></span></p><p><span class="en">Program flow visualizer is a tool to visualize the <a href="feature.htm#branchlog">branch log</a> in real time. It shows where the program counter is walking in 4GB address space. By clicking a bright spot to disassemble code, you can tell what is done there. You will understand large structure of the program easily than tracing each instruction.</span> <span class="ja">プログラムフロービジュアライザは <a href="feature.htm#branchlog">分岐ログ</a> をリアルタイムに可視化するツールです。プログラムカウンタが 4GB のアドレス空間のどこを巡回しているのかがひと目でわかり、クリックで逆アセンブルさせればそこで何をやっているのかもすぐにわかります。1 命令ずつトレースするよりもプログラムの大きな構造を把握しやすいと思います。</span></p><!--Q--><!--R--><h2><a href="#rasterbreakpoint" id="rasterbreakpoint">44. <span class="en">Raster break point</span> <span class="ja">ラスタブレークポイント</span></a></h2><p><span class="en">MPU stops at the beginning of the horizontal front porch of a specified fixed raster or the current IRQ raster. You can easily trace V-DISP, H-SYNC and CRTC IRQ interrupt routines because the MPU and the synchronous signal of CRTC stop simultaneously. That is difficult to do on real machines.</span> <span class="ja">指定された固定ラスタまたは IRQ ラスタの水平フロントポーチの先頭で MPU を停止させます。MPU が止まると CRTC の同期信号も止まるので、実機では困難な V-DISP、H-SYNC、CRTC IRQ の割り込みルーチンのトレースが簡単にできます。</span></p><h2><a href="#registerlist" id="registerlist">45. <span class="en"> Register list </span><span class="ja"> レジスタリスト </span></a></h2><p><span class="en"> Contents of program counter, status register, general registers and floating point registers are displayed on register window. Situation of the establishment of condition is shown too. </span><span class="ja"> プログラムカウンタ、ステータスレジスタ、汎用レジスタ、浮動小数点レジスタなどの内容を表示します。 条件の成立状況が表示されます。 </span></p><p><span class="en"> <a href="feature.htm#corecontrolbuttons">Core control buttons</a> are located. </span><span class="ja"> <a href="feature.htm#corecontrolbuttons">コア制御ボタン</a>が配置されています。 </span></p><h2><a href="#rootpointerlist" id="rootpointerlist">46. <span class="en">Root pointer list</span> <span class="ja">ルートポインタリスト</span></a></h2><p><span class="en">You can choose a task that you want to stop in multi-task environment.</span> <span class="ja">マルチタスク環境で停止させるタスクを選択できます。</span></p><h2><a href="#rs232candterminal" id="rs232candterminal">47. <span class="en"> RS-232C and terminal </span><span class="ja"> RS-232C とターミナル </span></a></h2><ul><li><span class="en"> RS-232C on X680x0 on XEiJ </span><span class="ja"> XEiJ 上の X680x0 の RS-232C </span></li><li><span class="en"> Terminal on XEiJ </span><span class="ja"> XEiJ のターミナル </span></li><li><span class="en"> Host machine serial port </span><span class="ja"> ホストマシンのシリアルポート </span></li></ul><p><span class="en"> From the above three, you can choose two to connect. In the following, they are written as RS-232C, terminal, and serial port, respectively. </span><span class="ja"> 以上の 3 つから、2 つを選んで接続できるようにしました。 以下ではそれぞれ RS-232C、ターミナル、シリアルポートと書きます。 </span></p><p><span class="en"> For example, small file exchanges can be made between the emulator and the actual machine. </span><span class="ja"> 例えば、エミュレータと実機の間で小規模なファイル交換ができます。 </span></p><ol><li><span class="en"> Prepare a serial port on the host machine and connect it directly to the actual X680x0 machine with an RS-232C crossover cable. </span><span class="ja"> ホストマシンにシリアルポートを用意して RS-232C クロスケーブルで X680x0 実機と直結します。 </span></li><li><span class="en"> Connect the terminal to the serial port and send ZM.X (and RSDRV.SYS if necessary) to the actual X680x0 device with the terminal function. </span><span class="ja"> ターミナルとシリアルポートを接続し、ターミナルの機能で X680x0 実機に ZM.X(と必要ならば RSDRV.SYS) を送信します。 </span></li><li><span class="en"> Connecting the RS-232C and serial port creates a file exchange environment using ZM.X between the emulator and the actual device. </span><span class="ja"> RS-232C とシリアルポートを接続すると、エミュレータと実機の間で ZM.X によるファイル交換環境が出来上がります。 </span></li></ol><p><span class="en"> The sxmr.bas and TeraTerm written in <a href="http://retropc.net/x68000/data/exchange/" target="_blank">file exchange with Windows</a> are no longer needed and only XEiJ and ZM.X are needed for file exchange. RSDRV.SYS is on the Human68k 3.0 system disk and is used to set flow control to RTS. </span><span class="ja"> <a href="http://retropc.net/x68000/data/exchange/" target="_blank">Windows とのファイル交換</a>に書いた sxmr.bas と TeraTerm は不要になり、XEiJ と ZM.X だけでファイル交換ができます。RSDRV.SYS は Human68k 3.0 のシステムディスクに入っていてフロー制御を RTS にするとき使います。 </span></p><p><span class="en"> Select RS-232C and terminal from the <a href="menu.htm#config">config menu</a> to open the RS232C and terminal window. The RS-232C and terminal window is divided into connection, communication settings, transfer, and terminal. </span><span class="ja"> <a href="menu.htm#config">「設定」メニュー</a>の「RS-232C とターミナル」を選択すると「RS232C とターミナル」ウインドウが開きます。 「RS232C とターミナル」ウインドウは「接続」、「通信設定」、「転送」、「ターミナル」に分かれています。 </span></p><p><span class="en"> In the &#34;Connection&#34; section of the &#34;RS232C and terminal&#34; window, you can select whether to connect to a terminal (Terminal), RS-232C (AUX), or serial port (COM3, etc.). This setting is stored in the <a href="parameter.htm#rs232cconnection">parameter rs232cconnection</a>. Pressing the &#34;Refresh&#34; button will re-search the serial port. </span><span class="ja"> 「RS232C とターミナル」ウインドウの「接続」では、ターミナル (Terminal)、RS-232C(AUX)、シリアルポート (COM3 など) のどれとどれを接続するか選択します。 この設定は<a href="parameter.htm#rs232cconnection">パラメータ rs232cconnection</a>に保存されます。 「更新」ボタンを押すとシリアルポートが再検索されます。 </span></p><p><span class="en"> When the port you want to connect to is not displayed after pressing the refresh button, enter the descriptor of the port you want to connect to in the additional port text field and press the refresh button. Typically, the descriptor is a string such as &#34;COM[*]&#34; on Windows or &#34;/dev/tty[*]&#34; on Linux and macOS. You can add ports that can be connected to with SerialPort.getCommPort(portDescriptor) but do not appear in the list of SerialPort.getCommPorts(). Be careful not to enter a descriptor for a port that does not exist or is already on the list. The contents of the additional port text field are stored in the <a href="parameter.htm#additionalport">parameter additionalport</a>. </span><span class="ja"> 更新ボタンを押しても接続したいポートが表示されないとき、追加ポートテキストフィールドに接続したいポートのデスクリプタを入力して更新ボタンを押します。 通常、デスクリプタは Windows では「COM[*]」、Linux および macOS では「/dev/tty[*]」のような文字列です。SerialPort.getCommPort(portDescriptor) で接続できるが SerialPort.getCommPorts() のリストに出てこないポートを追加できます。 存在しないポートや既にリストにあるポートのデスクリプタを入力しないように注意してください。 追加ポートテキストフィールドの内容は<a href="parameter.htm#additionalport">パラメータ additionalport</a>に保存されます。 </span></p><h3><a href="#rs232candterminal_terminal_rs232c" id="rs232candterminal_terminal_rs232c">47.1. <span class="en"> Connect terminal and RS-232C </span><span class="ja"> ターミナルと RS-232C を接続する </span></a></h3><p><span class="en"> When a terminal (Terminal) and RS-232C (AUX) are connected, the ROM debugger can be operated with the terminal as before. Also, when you want to copy a string of characters displayed on the screen by a command, you can easily copy it by using &#34;CTTY AUX&#34; to move the command prompt to the terminal and execute the command. </span><span class="ja"> ターミナル (Terminal) と RS-232C(AUX) を接続すると、従来通りターミナルで ROM デバッガを操作できます。 また、コマンドが画面に表示した文字列をコピーしたいとき、「CTTY AUX」でコマンドプロンプトをターミナルに移してコマンドを実行すると簡単にコピーできます。 </span></p><h3><a href="#rs232candterminal_serialport_rs232c" id="rs232candterminal_serialport_rs232c">47.2. <span class="en"> Connect serial port and RS-232C </span><span class="ja"> シリアルポートと RS-232C を接続する </span></a></h3><p><span class="en"> By connecting a serial port (e.g. COM3) and RS-232C (AUX), serial communication between X680x0 on XEiJ and a device outside the host machine is possible. You may be able to exchange files with the actual X680x0 machine and even play communication games. </span><span class="ja"> シリアルポート (COM3 など) と RS-232C(AUX) を接続すると、XEiJ 上の X680x0 とホストマシンの外にある機器の間でシリアル通信ができます。X680x0 実機とファイルのやり取りをしたり、通信対戦もできるかも知れません。 </span></p><h3><a href="#rs232candterminal_serialport_terminal" id="rs232candterminal_serialport_terminal">47.3. <span class="en"> Connect serial port and terminal </span><span class="ja"> シリアルポートとターミナルを接続する </span></a></h3><p><span class="en"> If you connect a serial port (COM3, etc.) to a terminal (Terminal), you can move the command prompt of the actual X680x0 device to the terminal. In the &#34;Communication settings&#34; section, match the settings with those of the actual device and enter &#34;CTTY AUX&#34; on the actual device. </span><span class="ja"> シリアルポート (COM3 など) とターミナル (Terminal) を接続すると、X680x0 実機のコマンドプロンプトをターミナルに移すことができます。 「通信設定」で実機と設定を合わせて実機で「CTTY AUX」と入力します。 </span></p><p><span class="en"> &#34;Communication settings&#34; in the &#34;RS232C and terminal&#34; window is used when a serial port (e.g. COM3) is connected to a terminal (Terminal). It selects baud rate, data bits, parity, stop bit, and flow control. These settings are stored in the <a href="parameter.htm#terminalsettings">parameter terminalsettings</a>. </span><span class="ja"> 「RS232C とターミナル」ウインドウの「通信設定」は、シリアルポート (COM3 など) とターミナル (Terminal) を接続しているときに使います。 ボーレート、データビット、パリティ、ストップビット、フロー制御を選択します。 この設定は<a href="parameter.htm#terminalsettings">パラメータ terminalsettings</a>に保存されます。 </span></p><p><span class="en"> The &#34;Send file&#34; button under &#34;Transfer&#34; in the &#34;RS232C and terminal&#34; window is used to transfer a small file from the host to the actual X680x0 device when the serial port (COM3, etc.) is connected to the terminal (Terminal). Type &#34;CTTY AUX&#34; on the actual device to move the command prompt of the actual device to the terminal, press the &#34;Send file&#34; button, select a file, and press the &#34;Send&#34; button. The selected file is converted into a self-restoring file named a.r that does not contain any control code, and is sent in the following order: string &#34;copy aux a.r&#34;, new line, contents of a.r, string &#34;a.r&#34;, new line. As long as COMMAND.X is running on the actual device, the process of converting a binary file into a file that does not contain control codes, sending it, and restoring it is done automatically. </span><span class="ja"> 「RS232C とターミナル」ウインドウの「転送」の「ファイル送信」ボタンは、シリアルポート (COM3 など) とターミナル (Terminal) を接続しているとき、ホストから X680x0 実機に小さいファイルを転送したいときに使います。 実機で「CTTY AUX」と入力して実機のコマンドプロンプトをターミナルに移し、「ファイル送信」ボタンを押してファイルを選択して、「送信」ボタンを押します。 選択されたファイルが、制御コードを含まない a.r という自己復元ファイルに変換され、文字列「copy aux a.r」、改行、a.r の内容、文字列「a.r」、改行の順に送信されます。 実機で COMMAND.X さえ動いていれば、バイナリファイルを制御コードを含まないファイルに変換して送信して復元する作業が自動で行われます。 </span></p><p><span class="en"> This transfer function is a simple one that uses the COMMAND.X copy command. The file to be transferred must fit into the memory of the actual device, including the area needed for decompression. Once the transfer is started, it cannot be stopped. The transfer may not be stopped due to communication errors. If the decoder is corrupted, a white window may appear. If the file is corrupted, a CRC error will be displayed. If the transfer fails, check the flow control, lower the baud rate, and try again. Data bits must be 8 bits. </span><span class="ja"> この転送機能は COMMAND.X の copy コマンドを用いる簡易的なものです。 転送するファイルは解凍に必要な領域を含めて実機のメモリに収まらなければなりません。 転送を始めたら途中で止められません。 通信エラーで転送が止まらなくなることがあるかも知れません。 デコーダが破損したときは白窓が表示されるかも知れません。 ファイルが破損したときは CRC エラーが表示されます。 転送に失敗するときはフロー制御を確認してボーレートを下げてやり直してください。 データビットは 8 ビットに限ります。 </span></p><h3><a href="#rs232candterminal_modification" id="rs232candterminal_modification">47.4. <span class="en"> Modification </span><span class="ja"> 改造 </span></a></h3><p><span class="en"> Turning on the 7.3728MHz checkbox changes the SCC operating frequency from 5MHz to 7.3728MHz. </span><span class="ja"> 7.3728MHz チェックボックスを ON にすると SCC の動作周波数が 5MHz から 7.3728MHz に変更されます。 </span></p><table><caption><span class="en">Nominal vs. theoretical baud rate</span><span class="ja">ボーレートの公称値と理論値の比較</span></caption><tbody><tr><td rowspan="2"><span class="en">mode</span><span class="ja">モード</span></td><td rowspan="2"><span class="en">SCC set value</span><span class="ja">SCC 設定値</span></td><td colspan="3"><span class="en">at 5MHz</span><span class="ja">5MHz のとき</span></td><td colspan="3"><span class="en">at 7.3728MHz</span><span class="ja">7.3728MHz のとき</span></td></tr><tr><td><span class="en">nominal</span><span class="ja">公称値</span></td><td><span class="en">theoretical</span><span class="ja">理論値</span></td><td><span class="en">error</span><span class="ja">誤差</span></td><td><span class="en">nominal</span><span class="ja">公称値</span></td><td><span class="en">theoretical</span><span class="ja">理論値</span></td><td><span class="en">error</span><span class="ja">誤差</span></td></tr><tr><td>0</td><td>2081</td><td>75.000</td><td>75.012</td><td>+0.000</td><td>112.500</td><td>110.610</td><td>-0.017</td></tr><tr><td>1</td><td>1040</td><td>150.000</td><td>149.952</td><td>-0.000</td><td>225.000</td><td>221.113</td><td>-0.017</td></tr><tr><td>2</td><td>519</td><td>300.000</td><td>299.904</td><td>-0.000</td><td>450.000</td><td>442.226</td><td>-0.017</td></tr><tr><td>3</td><td>258</td><td>600.000</td><td>600.962</td><td>+0.002</td><td>900.000</td><td>886.154</td><td>-0.015</td></tr><tr><td>4</td><td>128</td><td>1200.000</td><td>1201.923</td><td>+0.002</td><td>1800.000</td><td>1772.308</td><td>-0.015</td></tr><tr><td>5</td><td>63</td><td>2400.000</td><td>2403.846</td><td>+0.002</td><td>3600.000</td><td>3544.615</td><td>-0.015</td></tr><tr><td>6</td><td>31</td><td>4800.000</td><td>4734.848</td><td>-0.014</td><td>7200.000</td><td>6981.818</td><td>-0.030</td></tr><tr><td>7</td><td>14</td><td>9600.000</td><td>9765.625</td><td>+0.017</td><td>14400.000</td><td>14400.000</td><td>0.000</td></tr><tr><td>8</td><td>6</td><td>19200.000</td><td>19531.250</td><td>+0.017</td><td>28800.000</td><td>28800.000</td><td>0.000</td></tr><tr><td>9</td><td>2</td><td>38400.000</td><td>39062.500</td><td>+0.017</td><td>57600.000</td><td>57600.000</td><td>0.000</td></tr><tr><td>10</td><td>0</td><td>76800.000</td><td>78125.000</td><td>+0.017</td><td>115200.000</td><td>115200.000</td><td>0.000</td></tr></tbody></table><h3><a href="#rs232candterminal_sendctrlc" id="rs232candterminal_sendctrlc">47.5. <span class="en"> Send ^C </span><span class="ja"> ^C 送信 </span></a></h3><p><span class="en"> At the terminal, press the Pause key or select &#34;Send ^C&#34; from the pop-up menu to send 0x03. </span><span class="ja"> ターミナルで、Pause キーを押すか、ポップアップメニューの「^C 送信」を選択すると、0x03 が送信されます。 </span></p><!--S--><h2><a href="#scanlineeffect" id="scanlineeffect">48. <span class="en"> Scanline effect </span><span class="ja"> 走査線エフェクト </span></a></h2><p><span class="en"> In low-resolution mode, you can choose how to represent gaps between scanning lines. This is a feature designed to give the atmosphere of a CRT in a non-powerful execution environment. It is well known that two vertical dots on an LCD monitor cannot represent one vertical dot on a CRT. </span><span class="ja"> 低解像度モードのとき走査線の隙間を表現する方法を選択できます。 これは非力な実行環境でブラウン管の雰囲気を出そうとして作られた機能です。 液晶モニタの縦 2 ドットでブラウン管の縦 1 ドットを表現できないことは百も承知です。 </span></p><p><span class="en"> If the vertical magnification of the screen is not an integer multiple and not large enough, the scanline effect will not look good. Use Fixed scale to set the screen&#39;s vertical magnification to an integer multiple. </span><span class="ja"> 画面の縦方向の倍率が整数倍でなくかつ十分に大きくないとき、走査線エフェクトは綺麗に見えません。 固定倍率を用いて画面の縦方向の倍率を整数倍にしてください。 </span></p><h3><span class="en"> Off </span><span class="ja"> なし </span></h3><p><span class="en"> Copies the displayed raster as is. </span><span class="ja"> 表示したラスタをそのままコピーします。 </span></p><h3><span class="en"> Weak </span><span class="ja"> 弱 </span></h3><p><span class="en"> Copies the displayed raster with brightness multiplied by 7/8. </span><span class="ja"> 表示したラスタを明るさを 7/8 倍してコピーします。 </span></p><h3><span class="en"> Medium </span><span class="ja"> 中 </span></h3><p><span class="en"> Copies the displayed raster with brightness multiplied by 3/4. </span><span class="ja"> 表示したラスタを明るさを 3/4 倍してコピーします。 </span></p><h3><span class="en"> Strong </span><span class="ja"> 強 </span></h3><p><span class="en"> Copies the displayed raster with brightness multiplied by 1/2. </span><span class="ja"> 表示したラスタを明るさを 1/2 倍してコピーします。 </span></p><h3><span class="en"> Black </span><span class="ja"> 黒 </span></h3><p><span class="en"> Draw a black line. </span><span class="ja"> 黒線を描きます。 </span></p><h2><a href="#screenmodetest" id="screenmodetest">49. <span class="en">Screen mode test window</span> <span class="ja">表示モードテストウィンドウ</span> </a></h2><p><span class="smallimg"><img alt="screenmodetest.png" src="screenmodetest.png"></span></p><p><span class="en">Selecting screen mode test in the <a href="menu.htm#display">display menu</a> opens the screen mode test window. The screen mode test window displays registers for the CRTC, video controller, and sprite controller. The upper frame of each item is the value written to the port, and the lower frame is the value for testing. Switching the radio button to the lower frame reflects the value for testing. The test values are not visible to the MPU.</span> <span class="ja"><a href="menu.htm#display">画面メニュー</a>の表示モードテストを選択すると表示モードテストウィンドウが開きます。 表示モードテストウィンドウには、CRTC、ビデオコントローラ、スプライトコントローラのレジスタが表示されます。 各項目の上の枠はポートに書き込まれた値、下の枠はテスト用の値です。 ラジオボタンを下の枠に切り替えるとテスト用の値が反映されます。 テスト用の値は MPU からは見えません。</span></p><h3><a href="#screenmodetest_patterntest" id="screenmodetest_patterntest">49.1. <span class="en">Pattern test</span> <span class="ja">パターンテスト</span> </a></h3><p><span class="en">Sprite patterns are overwritten by test patterns that show the pattern number in hexadecimal. Near sprites are displayed brighter and distant sprites are displayed darker. You can play games that you get used to play while the test patterns are displayed.</span> <span class="ja">スプライトパターンにパターン番号を 16 進数で書いたパターンを上書きすることで、表示されているスプライトのパターン番号がわかるようにします。 手前のスプライトのパターン番号は明るく、奥のスプライトとバックグラウンドのパターン番号は暗く表示されるようになっており、遊び慣れたゲームならばパターン番号を表示した状態でプレイできます。</span></p><h2><a href="#seamlessmouse" id="seamlessmouse">50. <span class="en">Seamless mouse mode</span> <span class="ja">シームレスマウスモード</span></a></h2><p><span class="en">The seamless mouse mode is default mouse mode of XEiJ. Mouse cursor of host machine turns into mouse cursor of X68000 and acts as mouse cursor of IOCS or SX-WINDOW when it moves over the screen of X68000. You can operate software of X68000 that uses a mouse with the feeling of applications of host machine without monopolizing mouse cursor of host machine. <a href="sample.htm#jong">Jong</a> helps to understand effect of the seamless mouse mode. You can also easily operate DSHELL that is a special browser for the <a href="http://retropc.net/x68000/book/dennou_club/" target="_blank">Dennou Club</a>. In the case of SX-WINDOW (FSX.X version 3.10), you can also use the actual screen mode under the seamless mouse mode if <a href="#edgeacceleration">edge acceleration</a> is enabled.</span> <span class="ja">シームレスマウスモードは XEiJ のデフォルトのマウスモードです。ホストマシンのマウスカーソルが X68000 の画面に差し掛かった瞬間に X68000 のマウスカーソルに化け、X68000 の画面から出た瞬間にホストマシンのマウスカーソルに戻ります。ホストマシンのマウスカーソルは X68000 のマウスカーソルに化けている間だけ X68000 の IOCS または SX-WINDOW のマウスカーソルとして振る舞います。X68000 用のマウスを使うソフトウェアをマウスカーソルを占有せずにホストマシンのアプリケーションに近い感覚で操作することができます。シームレスマウスモードの効果は <a href="sample.htm#jong">じょんぐ</a> を見ていただくとわかりやすいと思います。<a href="http://retropc.net/x68000/book/dennou_club/" target="_blank">電脳倶楽部</a> の DSHELL もらくらく操作できます。SX-WINDOW (FSX.X version 3.10) の場合は <a href="#edgeacceleration">縁部加速</a> を ON にすると実画面モードもシームレスのまま操作できます。</span></p><p><span class="en">You can return the mode from the <a href="#exclusivemouse">exclusive mouse mode</a> to the seamless mouse mode by one of F12 key, wheel click or Alt-right click.</span> <span class="ja"><a href="#exclusivemouse">エクスクルーシブマウスモード</a> のとき F12 キーを押すか、ホイールクリックするか、Alt キーを押しながら右ボタンをクリックするとシームレスマウスモードに切り替わります。</span></p><h3><a href="#seamlessmouse_mechanism" id="seamlessmouse_mechanism">50.1. <span class="en">How to make the seamless mouse mode</span> <span class="ja">シームレスマウスモードの作り方</span></a></h3><p><span class="en">To stick mouse cursor of X68000 on mouse cursor of host machine, perform reverse accelerating calculation by relative position of them. Make transparent mouse cursor of host machine while it moves over the screen of X68000 and mouse cursor of X68000 is displayed. If you know current position of mouse cursor and the formula of reverse accelerating calculation, you will be able to perform the same method on other emulators.</span> <span class="ja">X68000 のマウスカーソルとホストマシンのマウスカーソルの相対位置を元に逆アクセラレーション計算を行ってマウスデータを作り、X68000 のマウスカーソルをホストマシンのマウスカーソルの真下に貼り付けます。さらに、X68000 のマウスカーソルが表示されていてホストマシンのマウスカーソルが X68000 の画面の上にある間だけホストマシンのマウスカーソルを透明にします。これでホストマシンのマウスカーソルが X68000 の画面の上にある間だけ X68000 のマウスカーソルに化けたように見えます。マウスカーソルの座標とアクセラレーションの計算式が分かれば IOCS でなくても、あるいは X68000 のエミュレータでなくても、同じことができると思います。</span></p><h3><a href="#seamlessmouse_multitouchtrackpad" id="seamlessmouse_multitouchtrackpad">50.2. <span class="en">How to click by the multi-touch trackpad on Macbook</span> <span class="ja">Macbook のマルチタッチトラックパッドでクリックする方法</span></a></h3><p><span class="en">Left click…Apple menu→System Preferences→Trackpad→Enable &#34;Tap to click&#34;. Tap with one finger.</span> <span class="ja">左クリック…「リンゴ」→「システム環境設定」→「トラックパッド」の「タップでクリック」を ON にしておいて、1 本指でタップします。</span></p><p><span class="en">Right click…Apple menu→System Preferences→Trackpad→Enable &#34;Secondary click&#34; and choose &#34;Click or tap with two fingers&#34;. Tap with two fingers.</span> <span class="ja">右クリック…「リンゴ」→「システム環境設定」→「トラックパッド」の「副ボタンのクリック」を ON にして「2 本指でクリックまたはタップ」を選択しておいて、2 本指でタップします。</span></p><h2><a href="#shiromadokun" id="shiromadokun">51. <span class="en"> Shiromadokun emulator </span><span class="ja"> 白窓君エミュレータ </span></a></h2><p><span class="smallimg"><img alt="smktest1.png" src="smktest1.png"></span></p><p><span class="en"> Emulates <a href="https://xn--tnb-k69dq77f996c.com/" target="_blank">TNB Seisakusho</a>&#39;s LCD unit Shiromadokun. </span><span class="ja"> <a href="https://xn--tnb-k69dq77f996c.com/" target="_blank">TNB 製作所さん</a>の LCD ユニット「白窓君」をエミュレートします。 </span></p><p><span class="en"> You can select Japanese specification or European specification in the joystick port settings window or with the parameter <a href="parameter.htm#shiromadokunN">shiromadokunN</a>. </span><span class="ja"> ジョイスティックポート設定ウインドウまたはパラメータ<a href="parameter.htm#shiromadokunN">shiromadokunN</a>で日本仕様と欧州仕様を選択できます。 </span></p><h2><a href="#soundinterpolation" id="soundinterpolation">52. <span class="en">Sound interpolation algorithm</span> <span class="ja">音声補間アルゴリズム</span></a></h2><p><span class="en">Sound interpolation algorithms for converting the internal sampling frequency (62.5kHz) to the output sampling frequency (48kHz) are :</span> <span class="ja">内部サンプリング周波数 (62.5kHz) を出力サンプリング周波数 (48kHz) に変換するための音声補間アルゴリズムは以下の通りです :</span></p><ul><li><span class="en">Thinning…Thin data.</span> <span class="ja">間引き … データを間引きます。</span></li><li><span class="en">Linear interpolation…Perform linear interpolation and resample by output sampling frequency.</span> <span class="ja">線形補間 … 線形補間してから出力サンプリング周波数で再サンプリングします。</span></li><li><span class="en">Piecewise-constant-area interpolation…Perform piecewise-constant interpolation, subdivide by output sampling interval and output the arithmetic mean of each fragment.</span> <span class="ja">区分定数面積補間 … 区分定数補間してから出力サンプリング間隔で刻み、各断片の変位の算術平均を出力します。</span></li><li><span class="en">Linear-area interpolation…Perform linear interpolation, subdivide by output sampling interval and output the arithmetic mean of each fragment.</span> <span class="ja">線形面積補間 … 線形補間してから出力サンプリング間隔で刻み、各断片の変位の算術平均を出力します。</span></li></ul><h2><a href="#soundmonitor" id="soundmonitor">53. <span class="en">Sound monitor</span> <span class="ja">音声モニタ</span></a></h2><p><span class="smallimg"><img alt="soundmonitor.png" src="soundmonitor.png"></span></p><p><span class="en">Waveforms, frequency distribution (spectrum analyzer), keyboards, tone data and ADPCM status are shown in the sound monitor of XEiJ.</span> <span class="ja">XEiJ の音声モニタには、波形、周波数分布 (スペクトラムアナライザ)、鍵盤、音色データおよび ADPCM の状態が表示されます。</span></p><p><span class="en">Waveforms are waveforms before mixing OPM and ADPCM. You can zoom the graph in the direction of time axis by left-click or right-click. And you can zoom the graph in the direction of amplitude axis by Shift-left click or Shift-right click. Click the button in the bottom right corner to stop the graph before zooming a particular place.</span> <span class="ja">波形は OPM と ADPCM の合成前の波形です。左クリックまたは右クリックで時間方向を拡大縮小、Shift キーを押しながら左クリックまたは右クリックで振幅方向を拡大縮小できます。波形の狙ったところを拡大縮小させたいときは右下のボタンで更新を停止させてから行います。</span></p><p><span class="en">Frequency axis of the spectrum analyzer (FFT analyzer) are divided into five ranges to achieve both high resolution in lower range and high speed in upper range. Frequency axis is adjusted to the keyboard below instead of writing numerals. Emission lines of simple tones appear just above the center of corresponding key regardless of its color.</span> <span class="ja">スペクトラムアナライザ (FFT アナライザ) は低音域の分解能と高音域の反応速度を両立させるために周波数の範囲を 5 分割しています。また、どこが何 Hz か数字で書く代わりに周波数を下の鍵盤に合わせてあり、単純な音色ならば白鍵でも黒鍵でも鍵の中央の真上に輝線が現れます。</span></p><p><span class="en">The keyboard shows which key is pressed. The nearest key to the frequency that consists of KC (KEY CODE) and KF (KEY FRACTION) in equal temperament reacts.</span> <span class="ja">鍵盤はキーオンとリリースの様子を示しています。平均律で KC (KEY CODE) と KF (KEY FRACTION) を合わせた周波数に近い鍵が反応します。</span></p><p><span class="en">The tone data are transformed contents of YM2151 registers in the format of MML tone definition data. It may be easier to read than raw data of registers. Displayed tone data do not always express the played sound because there are items that can not be perfectly recovered by only contents of YM2151 registers of a certain moment in MML tone definition data.</span> <span class="ja">音色データは YM2151 のレジスタの内容を MML の音色定義データのフォーマットに変換したものです。レジスタの内容をそのまま表示するよりも読みやすいかも知れません。MML の音色定義データにはある瞬間の YM2151 のレジスタの内容だけでは復元できない項目もあるので、表示されたデータをそのまま用いても同じ音が出るとは限りません。</span></p><p><span class="en">In the ADPCM status section, <a href="feature.htm#sourcefrequency">source oscillator frequency</a> (4MHz | 8MHz | 16MHz), frequency division ratio (1/1024 | 1/768 | 1/512), sampling frequency (3.9kHz | 5.2kHz | 7.8kHz | 10.4kHz | 15.6kHz | 20.8kHz | 31.3kHz), playing (PLAY), data exists (DATA), left output (LEFT) and right output (RIGHT) are displayed.</span> <span class="ja">ADPCM の状態は、<a href="feature.htm#sourcefrequency">原発振周波数</a> (4MHz | 8MHz | 16MHz)、分周比 (1/1024 | 1/768 | 1/512)、サンプリング周波数 (3.9kHz | 5.2kHz | 7.8kHz | 10.4kHz | 15.6kHz | 20.8kHz | 31.3kHz)、再生中 (PLAY)、データあり (DATA)、左側出力 (LEFT)、右側出力 (RIGHT) が表示されます。</span></p><h2><a href="#sourcefrequency" id="sourcefrequency">54. <span class="en">Source oscillator frequency</span> <span class="ja">原発振周波数</span></a></h2><p><span class="en">The source oscillator frequency is the source of the sampling frequency of the ADPCM sound source. In case of an unmodified X68000, you can choose the source oscillator frequency from 8MHz and 4MHz. And you can choose the frequency division ratio from 1/1024, 1/768 and 1/512. Therefore, available sampling frequencies are 3.9kHz, 5.2kHz, 7.8kHz, 10.4kHz and 15.6kHz.</span> <span class="ja">ここで言う原発振周波数とは ADPCM 音源のサンプリング周波数の元となるオシレータ (水晶振動子) の発振周波数のことです。X68000 の ADPCM 音源は原発振周波数を 8MHz と 4MHz から、分周比を 1/1024、1/768、1/512 からそれぞれ選択できるので、サンプリング周波数は 3.9kHz、5.2kHz、7.8kHz、10.4kHz、15.6kHz の 5 種類となっています。</span></p><p><span class="en">Method to replace the 4MHz oscillator with the 16MHz oscillator was published by Taki Yasushi in the article &#34;project to improve sound quality of built-in ADPCM&#34; in the fourth edition of &#34;low-tech workshop&#34; in the August 1994 issue of &#34;Oh!X&#34; magazine. Like the article, you can change the source oscillator frequency of XEiJ to 16MHz. The sampling frequencies after modification are 7.8kHz, 10.4kHz, 15.6kHz, 20.8kHz and 31.3kHz. PCM data will be reproduced in sampling frequency 31.3kHz by keeping <a href="http://retropc.net/x68000/software/sound/adpcm/pcm8a/" target="_blank">PCM8A.X</a> with switch &#34;-M1 -F2&#34;.</span> <span class="ja">Oh!X 1994 年 8 月号の「ローテク工作実験室 第 4 回 内蔵 AD PCM 高音質化計画」(瀧康史さん) で 4MHz のオシレータを 16MHz のものに換装する方法が紹介されており、XEiJ はこの方法で ADPCM 音源を改造できます。改造後のサンプリング周波数は 7.8kHz、10.4kHz、15.6kHz、20.8kHz、31.3kHz の 5 種類になり、<a href="http://retropc.net/x68000/software/sound/adpcm/pcm8a/" target="_blank">PCM8A.X</a> に -M1 -F2 というスイッチを指定して常駐させることで PCM データがサンプリング周波数 31.3kHz で再生されるようになります。</span></p><p><span class="en">You can confirm current source oscillator frequency, frequency division ratio and sampling frequency by the <a href="feature.htm#soundmonitor">sound monitor</a>.</span> <span class="ja">現在の原発振周波数、分周比およびサンプリング周波数は <a href="feature.htm#soundmonitor">音声モニタ</a> で確認することができます。</span></p><table><thead><tr><th colspan="2" rowspan="2"></th><th colspan="3"><span class="en">frequency division ratio</span> <span class="ja">分周比</span></th></tr><tr><th>1/1024</th><th>1/768</th><th>1/512</th></tr></thead><tbody><tr><th rowspan="3"><span class="en">source oscillator frequency</span> <span class="ja">原発振周波数</span></th><th>4MHz</th><td>3.9kHz</td><td>5.2kHz</td><td>7.8kHz</td></tr><tr><th>8MHz</th><td>7.8kHz</td><td>10.4kHz</td><td>15.6kHz</td></tr><tr><th>16MHz</th><td>15.6kHz</td><td>20.8kHz</td><td>31.3kHz</td></tr></tbody></table><h2><a href="#spr512bg1" id="spr512bg1">55. <span class="en">BG1 displayed in 512x512</span> <span class="ja">512x512 で BG1 を表示</span> </a></h2><p><span class="en">If the <a href="menu.htm#spr512bg1">BG1 displayed in 512x512 checkbox</a> in the <a href="menu.htm#modification">modification menu</a> is checked and reset, the BG1 can be displayed in 512x512.</span> <span class="ja"><a href="menu.htm#modification">改造メニュー</a>の<a href="menu.htm#spr512bg1">512x512 で BG1 を表示チェックボックス</a>を ON にしてリセットすると、512x512 で BG1 を表示できるようになります。</span></p><p><span class="en">This setting is stored in the <a href="parameter.htm#spr512bg1">parameter spr512bg1</a>.</span> <span class="ja">この設定は<a href="parameter.htm#spr512bg1">パラメータ spr512bg1</a>に保存されます。</span></p><p><span class="en">Remove the limitation that only one background plane can be displayed in 512x512. It is possible to display two planes of background in 512x512 as well as in 256x256.</span> <span class="ja">512x512 のときはバックグラウンドを 1 面しか表示できないという制限を解除します。256x256 のときと同様に 512x512 のときもバックグラウンドを 2 面表示できるようになります。</span></p><h2><a href="#spr768x512" id="spr768x512">56. <span class="en">Sprites displayed in 768x512</span> <span class="ja">768x512 でスプライトを表示</span> </a></h2><p><span class="en">If the <a href="menu.htm#spr768x512">sprites displayed in 768x512 checkbox</a> in the <a href="menu.htm#modification">modification menu</a> is checked and reset, the sprite screen can be displayed in 768x512.</span> <span class="ja"><a href="menu.htm#modification">改造メニュー</a>の<a href="menu.htm#spr768x512">768x512 でスプライトを表示チェックボックス</a>を ON にしてリセットすると、768x512 でスプライト画面を表示できるようになります。</span></p><p><span class="en">This setting is stored in the <a href="parameter.htm#spr768x512">parameter spr768x512</a>.</span> <span class="ja">この設定は<a href="parameter.htm#spr768x512">パラメータ spr768x512</a>に保存されます。</span></p><p><span class="en">The restriction that the sprite screen cannot be displayed when the lower 5 bits of R20 of CRTC are %1xx1x is removed.</span> <span class="ja">CRTC の R20 の下位 5 ビットが %1xx1x のときスプライト画面を表示できないという制限を解除します。</span></p><p><span class="en">Bits 4, 1, and 0 of R20 of CRTC select the dot clock (oscillator and frequency divider ratio). For %1xx1x, the dot clock is 25 MHz or higher, which corresponds to 768x512, 1024x424, 1024x848, and 640x480 in CRTMOD 16 to 19 in standard screen mode.</span> <span class="ja">CRTC の R20 のビット 4,1,0 はドットクロック (オシレータと分周比) を選択します。%1xx1x はドットクロックが 25MHz 以上で、標準の画面モードでは CRTMOD 16～19 の 768x512、1024x424、1024x848、640x480 が該当します。</span></p><p><span class="en">This limitation is so strong that even if one wanted to display a sprite screen at 768x512, just accessing the sprite area, pattern area, or text area would cause a bus error and there is no way to solve the problem.</span> <span class="ja">この制限は強く、768x512 でスプライト画面を表示したくてもスプライトエリア、パターンエリア、テキストエリアにアクセスしただけでバスエラーが発生してしまい、取り付く島もありません。</span></p><p><span class="en">By removing this limitation, the sprite screen can be displayed even in 768x512.</span> <span class="ja">この制限を解除することで、768x512 でもスプライト画面を表示できるようになります。</span></p><h2><a href="#spritepatternviewer" id="spritepatternviewer">57. <span class="en">Sprite pattern viewer</span> <span class="ja">スプライトパターンビュア</span></a></h2><p><span class="en">All defined sprite patterns are displayed.</span> <span class="ja">定義されているスプライトパターンをすべて表示します。</span></p><h2><a href="#stereoscopic" id="stereoscopic">58. <span class="en"> Stereoscopic viewing </span> <span class="ja"> 立体視 </span> </a></h2><p><span class="en"> It supports stereoscopic viewing using the STEREOSCOPIC connector on the back of the X68000. </span> <span class="ja"> X68000 の背面にある STEREOSCOPIC コネクタを用いる立体視に対応しています。 </span></p><p><span class="en"> The stereoscopic viewing method can be selected from naked-eye crossing method, naked-eye parallel method, side-by-side method, and top-and-bottom method. </span> <span class="ja"> 立体視の方法を、裸眼交差法、裸眼平行法、サイドバイサイド、トップアンドボトムから選択できます。 </span></p><!--T--><h2><a href="#textscreencopy" id="textscreencopy">59. <span class="en"> Text screen copy </span><span class="ja"> テキスト画面コピー </span></a></h2><p><span class="en"> Text screen copy is a function that reverses the character displayed as a bitmap image on the text screen to the character code and copies it to the clipboard. 8x8, 8x16, and 16x16 fonts in CGROM can be reverse-converted. Fonts loaded by &#34;COPY XXX.FON @IOCS&#34; etc. cannot be reverse-converted. Some characters are indistinguishable in principle, such as half-width space and full-width space. Light blue, yellow, bold, and reversal can be reverse-converted. Character attributes are not reflected in the result. Follows hardware scrolling. The coordinates of the character to be converted must be a multiple of 8x16. Characters that cannot be converted will be converted to &#34;?&#34;. </span><span class="ja"> テキスト画面コピーはテキスト画面にビットマップ画像として表示されている文字を文字コードに逆変換してクリップボードにコピーする機能です。CGROM にある 8x8、8x16、16x16 のフォントを逆変換できます。 「COPY XXX.FON @IOCS」などで読み込まれたフォントは逆変換できません。 半角スペースと全角スペースのように原理上区別できない文字があります。 水色、黄色、太字、反転を逆変換できます。 文字属性は結果に反映されません。 ハードウェアスクロールに追従します。 変換する文字の座標は 8x16 の倍数に限ります。 変換できなかった文字は「?」になります。 </span></p><p><span class="en"> Clicking <a href="menu.htm#textscreencopy">text screen copy</a> in the <a href="menu.htm#input">input menu</a> or pressing Alt+Shift+C copies the text displayed in the set range to the clipboard. In the <a href="menu.htm#textscreencopysetting">text screen copy setting menu</a>, the range to be copied can be selected from four options: display area, C_WIDTH, entire VRAM, or last enclosed area. This setting is saved in the <a href="parameter.htm#textcopyarea">parameter textcopyarea</a>. </span><span class="ja"> <a href="menu.htm#input">入力メニュー</a>の<a href="menu.htm#textscreencopy">テキスト画面コピー</a>をクリックするか、Alt+Shift+C を押すと、設定された範囲に表示されているテキストがクリップボードにコピーされます。 <a href="menu.htm#textscreencopysetting">テキスト画面コピー設定メニュー</a>で、コピーする範囲を表示領域、C_WIDTH、VRAM 全体、最後に囲んだ範囲の 4 つから選択できます。 この設定は<a href="parameter.htm#textcopyarea">パラメータ textcopyarea</a>に保存されます。 </span></p><p><span class="en"> When the enclose each time with mouse check box in the <a href="menu.htm#textscreencopysetting">text screen copy setting menu</a> is ON, pressing and dragging the left mouse button on the text screen will display a red frame, and releasing the button will copy the text inside the frame to the clipboard. This setting is saved in the <a href="parameter.htm#textcopy">parameter textcopy</a>. </span><span class="ja"> <a href="menu.htm#textscreencopysetting">テキスト画面コピー設定メニュー</a>のマウスで都度囲むチェックボックスが ON のとき、テキスト画面でマウスの左ボタンを押してドラッグすると赤い枠が表示され、ボタンを離すと枠の内側のテキストがクリップボードにコピーされます。 この設定は<a href="parameter.htm#textcopy">パラメータ textcopy</a>に保存されます。 </span></p><h2><a href="#tripleprecision" id="tripleprecision">60. <span class="en">Triple precision floating point number</span> <span class="ja">三倍精度浮動小数点数</span></a></h2><p><span class="en">In X68030 mode and 060turbo mode, XEiJ performs floating point arithmetic in higher precision than MC68882. Parameters and results can be read and written as 96-bit triple precision that is 16-bit longer than 80-bit extended precision. MC68882 stores an extended precision floating point number to memory with inserting 16-bit reserved area between exponent and mantissa. So an extended precision floating point number consumes a 96-bit area. XEiJ stores the least 16-bit of mantissa of a triple precision floating point number to the reserved area. Be careful when you use binary data that has non-zero reserved area in other environment.</span> <span class="ja">XEiJ は X68030 および 060turbo モードのとき浮動小数点演算を MC68882 よりも高い精度で行い、その引数や結果を MC68882 の拡張精度 (80 ビット) よりも 16 ビット多い三倍精度 (96 ビット) で読み書きすることができます。MC68882 は拡張精度浮動小数点数を 16 ビットの予約領域を挟んで 96 ビットを消費する形でメモリに書き込みますが、XEiJ はその予約領域に三倍精度浮動小数点数の仮数部の末尾の 16 ビットを格納します。予約領域が $0000 になっていないのでバイナリデータを他所の環境で利用する場合は注意してください。</span></p><h3><a href="#tripleprecision_sample" id="tripleprecision_sample">60.1. <span class="en">Example: Check the internal representation of the circular constant</span> <span class="ja">例 : 円周率の内部表現を確認する</span></a></h3><p>π = 3.141592653589793238462643383...</p><pre>-<kbd>l200000 20000d</kbd>
  00200000      fmovecr.x       #$00,FP0
  00200004      fmove.x FP0,$00200010
  0020000C      _EXIT</pre><h4><span class="en">In the case of extended precision</span> <span class="ja">拡張精度のとき</span></h4><p>0xc90fdaa22168c235/2<sup>62</sup> = 3.141592653589793238<span style="text-decoration:line-through">5128...</span> <span class="en">(19 digit)</span> <span class="ja">(19 桁)</span></p><pre>-<kbd>g=200000</kbd>
program terminated normally
-<kbd>d200010 20001b</kbd>
00200010  4000 <span style="text-decoration:underline">0000</span> C90F DAA2 2168 C23<span style="text-decoration:underline">5</span>                     @...ﾉ.ﾚ｢!hﾂ5</pre><h4><span class="en">In the case of triple precision</span> <span class="ja">三倍精度のとき</span></h4><p>0xc90fdaa22168c234c4c6/2<sup>78</sup> = 3.14159265358979323846264<span style="text-decoration:line-through">2109...</span> <span class="en">(24 digit)</span> <span class="ja">(24 桁)</span></p><pre>-<kbd>g=200000</kbd>
program terminated normally
-<kbd>d200010 20001b</kbd>
00200010  4000 <span style="text-decoration:underline">C4C6</span> C90F DAA2 2168 C23<span style="text-decoration:underline">4</span>                     @.ﾄﾆﾉ.ﾚ｢!hﾂ4</pre><h2><a href="#cyberstick" id="cyberstick">61. <span class="en"> CYBER STICK </span><span class="ja"> サイバースティック </span></a></h2><p><span class="en"> A cyber stick can be connected to the joystick port. The analog mode can be operated with an XInput gamepad, and the digital mode can be operated with an XInput gamepad or keyboard. Cyberstick button assignments can be set in the joystick port settings window or with the parameters <a href="parameter.htm#cyberstickanalogN">cyberstickanalogN</a> and <a href="parameter.htm#cyberstickdigitalN">cyberstickdigitalN</a>. </span><span class="ja"> ジョイスティックポートにサイバースティックを接続できます。 アナログモードは XInput 方式のゲームパッドで、また、デジタルモードは XInput 方式のゲームパッドまたはキーボードで操作できます。 サイバースティックのボタンの割り当てはジョイスティックポート設定ウインドウまたはパラメータ<a href="parameter.htm#cyberstickanalogN">cyberstickanalogN</a>および<a href="parameter.htm#cyberstickdigitalN">cyberstickdigitalN</a>で設定できます。 </span></p><!--U--><!--V--><!--W--><!--X--><h2><a href="#xinput" id="xinput">62. <span class="en"> XInput support </span><span class="ja"> XInput 対応 </span></a></h2><p><span class="en"> When using Windows, the normal 2 button pad, the MEGA DRIVE 3 button pad, the MEGA DRIVE 6 button pad, and the cyber stick can be operated with an XInput gamepad. This functionality can be configured in the joystick port settings window or with the <a href="parameter.htm#xinput">parameter xinput</a>. Place the included xeijwin.dll in the current directory or in a directory in your path. </span><span class="ja"> Windows のとき、ノーマル 2 ボタンパッド、メガドラ 3 ボタンパッド、メガドラ 6 ボタンパッドおよびサイバースティックを XInput 方式のゲームパッドで操作できます。 この機能はジョイスティックポート設定ウインドウまたは<a href="parameter.htm#xinput">パラメータ xinput</a>で設定できます。 付属の xeijwin.dll をカレントディレクトリまたはパスの通っているディレクトリに置いてください。 </span></p><!--Y--><!--Z--><h2><a href="#zkeyboard" id="zkeyboard">63. <span class="en"> Z keyboard support </span><span class="ja"> Z キーボード対応 </span></a></h2><p><span class="en"> In a Windows 10 and Microsoft IME or Google Japanese Input environment, all keys on the X68000 Z keyboard can be entered, with some limitations, by remapping the special keys to the F13-F24 keys using Microsoft PowerToys Keyboard Manager. You can control the 7 LEDs on the X68000 Z keyboard. </span><span class="ja"> Windows 10 と Microsoft IME または Google 日本語入力の環境で、Microsoft PowerToys Keyboard Manager を用いて特殊キーを F13～F24 キーへ再マップすることで、いくつかの制約はありますが、X68000 Z のキーボードのすべてのキーを入力できます。X68000 Z のキーボードの 7 個の LED を制御できます。 </span></p><p><span class="en"> This function can be selected in the <a href="menu.htm#zkeyboard">Z keyboard menu</a> or with the <a href="parameter.htm#zkeyboard">parameter zkeyboard</a>. Place the included xeijwin.dll in the current directory or in a directory in your path. </span><span class="ja"> この機能は<a href="menu.htm#zkeyboard">Z キーボードメニュー</a>または<a href="parameter.htm#zkeyboard">パラメータ zkeyboard</a>で選択できます。 付属の xeijwin.dll をカレントディレクトリまたはパスの通っているディレクトリに置いてください。 </span></p><h3><a href="#zkeyboard_input" id="zkeyboard_input">63.1. <span class="en"> Input from the Z keyboard </span><span class="ja"> Z キーボードからの入力 </span></a></h3><h4><span class="en"> Operating environment </span><span class="ja"> 動作環境 </span></h4><p><span class="en"> Input from the Z keyboard was adjusted using the X68000 Z EARLY ACCESS KIT keyboard and Windows 10 with Microsoft IME and Google Japanese Input. </span><span class="ja"> Z キーボードからの入力は X68000 Z EARLY ACCESS KIT のキーボードと Windows 10 と Microsoft IME および Google 日本語入力の環境で調整しました。 </span></p><h4><span class="en"> Restrictions </span><span class="ja"> 制約 </span></h4><p><span class="en"> Most keys can be operated in the same way as on the X68000, but there are still restrictions on the operation of some keys. In Microsoft IME or Google Japanese Input, it seems that AWT key events are not fired when the BREAK (Halfwidth/Fullwidth) key, CAPS (CapsLock i.e. alphanumeric) key and XF4 (Katakana/Hiragana) key are released. XEiJ uses AWT key events to know when keys are pressed or released, so the current method does not know when these keys are released. Therefore, the behavior of these three keys was changed as follows. </span><span class="ja"> 大部分のキーを X68000 と同じように操作できますが、一部のキーの動作に制約が残っています。Microsoft IME または Google 日本語入力の場合、BREAK(半角 / 全角) キーと CAPS(CapsLock すなわち英数字) キーと XF4(カタカナ / ひらがな) キーを離したときに AWT のキーイベントが発火しないようです。XEiJ はキーが押されたまたは離されたことを AWT のキーイベントで把握しているので、現在の方法ではこれらのキーがいつ離されたのか分かりません。 そこで、この 3 個のキーの動作を以下のように変更しました。 </span></p><ul><li><span class="en"> The BREAK and CAPS keys are immediately released when pressed. </span><span class="ja"> BREAK キーと CAPS キーは押すと直ちに離されたことになります。 </span></li><li><span class="en"> The XF4 key remains pressed until another key is released. </span><span class="ja"> XF4 キーは押すと他のキーを離すまで押されたままになります。 </span></li></ul><h4><span class="en"> Preparation </span><span class="ja"> 準備 </span></h4><p><span class="en"> The switch on the back of the Z keyboard is set to X68. The reason is that the CTRL and CAPS keys cannot be distinguished when set to WIN. The default key assignment is set to X68. </span><span class="ja"> Z キーボードの裏面のスイッチを X68 にします。 理由は、WIN になっていると CTRL キーと CAPS キーを区別できないからです。 キー割り当ての初期値は X68 に合わせてあります。 </span></p><p><span class="en"> Install Microsoft PowerToys from the Microsoft Store and use Keyboard Manager to remap the following keys. </span><span class="ja"> Microsoft Store から Microsoft PowerToys をインストールして Keyboard Manager を使って以下のキーを再マップします。 </span></p><table><caption><span class="en">keys to be remapped</span><span class="ja">再マップするキー</span></caption><tbody><tr><th><span class="en">key on Z keyboard</span><span class="ja">Z キーボードのキー</span></th><th><span class="en">before remapping</span><span class="ja">再マップ前</span></th><td><span class="en">after remapping</span><span class="ja">再マップ後</span></td></tr><tr><td><span class="en">CTRL (Right)</span><span class="ja">CTRL (右)</span></td><td>Ctrl (Right)</td><td>F11</td></tr><tr><td>OPT.1</td><td>F11</td><td>F13</td></tr><tr><td>XF2</td><td>IME Non-Convert</td><td>F14</td></tr><tr><td>XF3</td><td>IME Convert</td><td>F15</td></tr><tr><td>XF4</td><td>VK 242</td><td>F16</td></tr><tr><td>CAPS</td><td>VK 240</td><td>F17</td></tr><tr><td><span class="en">kana</span><span class="ja">かな</span></td><td>Print Screen</td><td>F18</td></tr><tr><td><span class="en">romaji</span><span class="ja">ローマ字</span></td><td>Scroll Lock</td><td>F19</td></tr><tr><td><span class="en">hiragana</span><span class="ja">ひらがな</span></td><td>Win (Left)</td><td>F20</td></tr><tr><td><span class="en">fullwidth</span><span class="ja">全角</span></td><td>Win (Right)</td><td>F21</td></tr><tr><td><span class="en">symbol input</span><span class="ja">記号入力</span></td><td>Volume Mute</td><td>F22</td></tr><tr><td><span class="en">registration</span><span class="ja">登録</span></td><td>Volume Down</td><td>F23</td></tr><tr><td>HELP</td><td>Volume Up</td><td>F24</td></tr></tbody></table><p><span class="en"> Remove F13 for direct input in the key settings of the properties of Google Japanese Input. If you do not remove it, you will not be able to input OPT.1 which is remapped to F13. </span><span class="ja"> Google 日本語入力のプロパティのキー設定で直接入力の F13 を削除します。 これを削除しないと F13 に再マップされている OPT.1 が入力できません。 </span></p><table><caption><span class="en">Key settings to be deleted</span><span class="ja">削除するキー設定</span></caption><tbody><tr><td>モード</td><td>入力キー</td><td>コマンド</td></tr><tr><td>直接入力</td><td>F13</td><td>IME を有効化</td></tr></tbody></table><h4><span class="en"> Key assignments </span><span class="ja"> キー割り当て </span></h4><p><span class="en"> Select Connect in the <a href="menu.htm#zkeyboard">Z keyboard menu</a> to switch to key assignments for the Z keyboard. You can change key assignments for the Z keyboard in the <a href="feature.htm#keyassignments">Key assignments window</a>. Key assignments for the Z keyboard are stored in the <a href="parameter.htm#zkeymap">parameter zkeymap</a>. </span><span class="ja"> <a href="menu.htm#zkeyboard">Z キーボードメニュー</a>で接続を選択すると、Z キーボード用のキー割り当てに切り替わります。 <a href="feature.htm#keyassignments">キー割り当てウインドウ</a>で Z キーボード用のキー割り当てを変更できます。Z キーボード用のキー割り当ては<a href="parameter.htm#zkeymap">パラメータ zkeymap</a>に保存されます。 </span></p><h3><a href="#zkeyboard_led" id="zkeyboard_led">63.2. <span class="en"> Control of LEDs on the Z keyboard </span><span class="ja"> Z キーボードの LED の制御 </span></a></h3><p><span class="en"> You can control the 7 LEDs on the keyboard of the X68000 Z. Thanks to <a href="https://x.com/yunkya2" target="_blank">yunk</a> for disclosing the control method. </span><span class="ja"> X68000 Z のキーボードにある 7 個の LED を制御できます。 制御方法を公開してくださった<a href="https://x.com/yunkya2" target="_blank">yunk さん</a>に感謝します。 </span></p><ul><li><a href="https://github.com/yunkya2/x68kzkbd-pyusb" target="_blank">yunkya2/x68kzkbd-pyusb: X68000Z keyboard LED demo for pyUSB</a></li></ul><h4><span class="en"> Z keyboard LED control I/O port </span><span class="ja"> Z キーボード LED 制御 I/O ポート </span></h4><p><span class="en"> The LEDs on the Z keyboard are over-specified for an X68000 keyboard, and each of the seven LEDs can be independently specified with 256 levels of brightness. It would be a waste not to take advantage of this, so XEiJ provides a programmable mode that allows direct specification of LED brightness via the Z keyboard LED control I/O port in addition to the normal mode. </span><span class="ja"> Z キーボードの LED は X68000 のキーボードとしてはオーバースペックで、7 個の LED に独立してそれぞれ 256 段階の輝度を指定できます。 これを活用しないのはもったいないので、XEiJ ではノーマルモードの他に Z キーボード LED 制御 I/O ポートを介して LED の輝度を直接指定できるプログラマブルモードを用意しました。 </span></p><p><span class="en"> The Z keyboard LED control I/O ports are temporarily located at addresses $00E9F040 to $00E9F04F. Changing bit 0 of address $00E9F048 from 0 to 1 switches from normal mode to programmable mode. In programmable mode, setting the LED brightness to addresses $00E9F040 to $00E9F046 and writing 1 to bit 1 of address $00E9F048 will send the set brightness to the keyboard. The brightness is 0 for off and 255 for on. In normal mode, dark corresponds to 32, slightly dark to 64, slightly bright to 128, and bright to 255. </span><span class="ja"> Z キーボード LED 制御 I/O ポートはアドレス $00E9F040～$00E9F04F に仮に配置されています。 アドレス $00E9F048 の bit0 を 0 から 1 に変更するとノーマルモードからプログラマブルモードに切り替わります。 プログラマブルモードのときアドレス $00E9F040～$00E9F046 に LED の輝度を設定してアドレス $00E9F048 の bit1 に 1 を書き込むと設定された輝度がキーボードに送信されます。 輝度は 0 が消灯、255 が点灯です。 ノーマルモードの暗いは 32、やや暗いは 64、やや明るいは 128、明るいは 255 に相当します。 </span></p><table><caption><span class="en">Z keyboard LED control I/O port</span><span class="ja">Z キーボード LED 制御 I/O ポート</span></caption><thead><tr><th colspan="2"><span class="en">I/O port address (temporary)</span><span class="ja">I/O ポートアドレス (仮)</span></th><th colspan="2"><span class="en">contents</span><span class="ja">内容</span></th></tr></thead><tbody><tr><td colspan="2">$00E9F040</td><td><span class="en">kana</span><span class="ja">かな</span></td><td rowspan="7"><span class="en">brightness of LED in programmable mode</span> <span class="ja">プログラマブルモードでの LED の輝度</span></td></tr><tr><td colspan="2">$00E9F041</td><td><span class="en">romaji</span><span class="ja">ローマ字</span></td></tr><tr><td colspan="2">$00E9F042</td><td><span class="en">code input</span><span class="ja">コード入力</span></td></tr><tr><td colspan="2">$00E9F043</td><td><span class="en">CAPS</span><span class="ja">CAPS</span></td></tr><tr><td colspan="2">$00E9F044</td><td><span class="en">INS</span><span class="ja">INS</span></td></tr><tr><td colspan="2">$00E9F045</td><td><span class="en">hiragana</span><span class="ja">ひらがな</span></td></tr><tr><td colspan="2">$00E9F046</td><td><span class="en">fullwidth</span><span class="ja">全角</span></td></tr><tr><td colspan="2">$00E9F047</td><td colspan="2">0</td></tr><tr><td rowspan="3">$00E9F048</td><td>bit0</td><td colspan="2">0=<span class="en">normal mode</span><span class="ja">ノーマルモード</span>, 1=<span class="en">programmable mode</span><span class="ja">プログラマブルモード</span></td></tr><tr><td>bit1</td><td colspan="2">1=<span class="en">send</span><span class="ja">送信</span></td></tr><tr><td>bit2-7</td><td colspan="2">0</td></tr><tr><td colspan="2">$00E9F049-$00E9F04F</td><td colspan="2">0</td></tr></tbody></table><h4><span class="en"> LED operation chedk </span><span class="ja"> LED の動作確認 </span></h4><p><span class="en"> Check the LED operation check box in the Z keyboard menu to confirm that the LEDs are controlled. </span><span class="ja"> Z キーボードメニューの LED の動作確認チェックボックスを ON にすると LED を制御できているか確認できます。 </span></p><h4><span class="en"> zkeytest.x </span><span class="ja"> zkeytest.x </span></h4><p><span class="en"> <a href="miscfiles.htm#zkeytestx">zkeytest.x</a> tests the Z keyboard LED control I/O port. </span><span class="ja"> <a href="miscfiles.htm#zkeytestx">zkeytest.x</a>は Z キーボード LED 制御 I/O ポートをテストします。 </span></p></div><div id="foot"><a href="https://stdkmd.net/">STUDIO KAMADA</a><br>Copyright &copy; 1999-2025 Makoto Kamada<div></div></div></body></html>